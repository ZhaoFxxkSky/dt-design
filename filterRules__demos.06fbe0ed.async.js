"use strict";(self.webpackChunkdt_design=self.webpackChunkdt_design||[]).push([[1268],{64970:function(G,v,n){n.r(v);var g=n(91259),O=n.n(g),T=n(97294),C=n(26068),B=n.n(C),f=n(48305),I=n.n(f),h=n(36462),K=n.n(h),M=n(78448),p=n(75271),F=n(77263),R=n(22142),d=n(52676),S=function(l){var u=l.rowValues.input,E=l.rowKey,t=l.onChange;return(0,d.jsx)(M.default,{value:u,onChange:function(D){return t==null?void 0:t(E,{input:D.target.value})}})};v.default=function(){var P=(0,p.useState)(R.Bq),l=I()(P,2),u=l[0],E=l[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(F.ZP,{component:function(s){return(0,d.jsx)(S,B()({},s))},value:u,onChange:function(s){return E(s)},initValues:R.jv}),(0,d.jsx)(T.default,{onClick:function(){return console.log(u)},children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},53061:function(G,v,n){n.r(v);var g=n(26068),O=n.n(g),T=n(91259),C=n.n(T),B=n(97294),f=n(46484),I=n.n(f),h=n(51845),K=n(48305),M=n.n(K),p=n(36462),F=n.n(p),R=n(78448),d=n(75271),S=n(77263),P=n(22142),l=n(52676),u=function(t){var s=t.rowValues.input,D=t.rowKey,c=t.disabled,U=t.onChange;return(0,l.jsx)(R.default,{value:s,onChange:function($){return U==null?void 0:U(D,{input:$.target.value})},disabled:c})};v.default=function(){var E=h.Z.useForm(),t=M()(E,1),s=t[0],D=(0,d.useState)(!1),c=M()(D,2),U=c[0],Z=c[1];return(0,d.useEffect)(function(){s.setFieldsValue({condition:P.Bq})},[]),(0,l.jsxs)(h.Z,{form:s,children:[(0,l.jsxs)(B.default,{style:{marginBottom:16},onClick:function(){return Z(!U)},children:[U?"\u7F16\u8F91":"\u67E5\u770B","\u72B6\u6001"]}),(0,l.jsx)(h.Z.Item,{name:"condition",children:(0,l.jsx)(S.ZP,{component:function(A){return(0,l.jsx)(u,O()({},A))},disabled:U,initValues:P.jv})})]})}},9099:function(G,v,n){n.r(v);var g=n(26068),O=n.n(g),T=n(95916),C=n.n(T),B=n(71837),f=n(88894),I=n.n(f),h=n(40483),K=n(48305),M=n.n(K),p=n(36462),F=n.n(p),R=n(78448),d=n(75271),S=n(77263),P=n(22142),l=n(52676),u=function(t){var s=t.rowValues.input,D=t.rowKey,c=t.onChange;return(0,l.jsx)(R.default,{value:s,onChange:function(Z){return c==null?void 0:c(D,{input:Z.target.value})}})};v.default=function(){var E=(0,d.useState)(P.Bq),t=M()(E,2),s=t[0],D=t[1],c=(0,d.useState)(2),U=M()(c,2),Z=U[0],$=U[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(B.default,{style:{marginBottom:16},children:[(0,l.jsx)("span",{children:"\u6700\u5927\u5B50\u8282\u70B9\u4E2A\u6570:"}),(0,l.jsx)(h.Z,{value:Z,min:0,precision:0,onChange:function(i){return $(i!=null?i:0)}})]}),(0,l.jsx)(S.ZP,{component:function(i){return(0,l.jsx)(u,O()({},i))},value:s,maxSize:Z,onChange:function(i){return D(i)},initValues:P.jv})]})}},12427:function(G,v,n){n.r(v);var g=n(26068),O=n.n(g),T=n(79639),C=n.n(T),B=n(55781),f=n(48305),I=n.n(f),h=n(36462),K=n.n(h),M=n(78448),p=n(75271),F=n(77263),R=n(22142),d=n(52676),S=function(l){var u=l.rowValues.input,E=l.rowKey,t=l.onChange;return(0,d.jsx)(M.default,{value:u,onChange:function(D){return t==null?void 0:t(E,{input:D.target.value})}})};v.default=function(){var P=(0,p.useState)(R.AD),l=I()(P,2),u=l[0],E=l[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(B.default,{message:"\u53EF\u4EE5\u901A\u8FC7\u64CD\u4F5C\u6309\u94AE\u589E\u52A0\u5220\u9664\u6570\u636E\uFF0C\u5207\u6362\u4E14\u6216\u8282\u70B9\u5185\u5BB9",style:{marginBottom:16}}),(0,d.jsx)(F.ZP,{component:function(s){return(0,d.jsx)(S,O()({},s))},value:u,onChange:function(s){return E(s)},initValues:R.jv})]})}},534:function(G,v,n){n.r(v);var g=n(90228),O=n.n(g),T=n(87999),C=n.n(T),B=n(26068),f=n.n(B),I=n(91259),h=n.n(I),K=n(97294),M=n(48305),p=n.n(M),F=n(46484),R=n.n(F),d=n(51845),S=n(36462),P=n.n(S),l=n(78448),u=n(15558),E=n.n(u),t=n(75271),s=n(77263),D=n(22142),c=n(52676),U=function($){var A=$.name;return(0,c.jsx)(d.Z.Item,{name:["condition"].concat(E()(A),["input"]),children:(0,c.jsx)(l.default,{})})};v.default=function(){var Z=d.Z.useForm(),$=p()(Z,1),A=$[0];return(0,c.jsxs)(d.Z,{form:A,children:[(0,c.jsx)(K.default,{onClick:function(){return A.setFieldsValue({condition:D.Bq})},style:{marginBottom:16},children:"\u6DFB\u52A0\u6570\u636E"}),(0,c.jsx)(d.Z.Item,{name:"condition",children:(0,c.jsx)(s.ZP,{component:function(N){return(0,c.jsx)(U,f()({},N))},notEmpty:{data:!1},initValues:D.jv})}),(0,c.jsx)(K.default,{onClick:C()(O()().mark(function i(){return O()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.t0=console,L.next=3,A.validateFields();case 3:return L.t1=L.sent,L.abrupt("return",L.t0.log.call(L.t0,L.t1));case 5:case"end":return L.stop()}},i)})),children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},19990:function(G,v,n){n.r(v);var g=n(26068),O=n.n(g),T=n(79639),C=n.n(T),B=n(55781),f=n(48305),I=n.n(f),h=n(36462),K=n.n(h),M=n(78448),p=n(75271),F=n(77263),R=n(22142),d=n(52676),S=function(l){var u=l.rowValues.input,E=l.disabled,t=l.rowKey,s=l.onChange;return(0,d.jsx)(M.default,{value:u,disabled:E,onChange:function(c){return s==null?void 0:s(t,{input:c.target.value})}})};v.default=function(){var P=(0,p.useState)(R.jN),l=I()(P,2),u=l[0],E=l[1];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(B.default,{message:"\u9002\u7528\u4E8E\u90E8\u5206\u6570\u636E\u7981\u7528\u4E14\u53EF\u4EE5\u7F16\u8F91\u5176\u4ED6\u6570\u636E\u3002\u5E38\u89C1\u4E1A\u52A1\u60C5\u666F\uFF1A\u4E0A\u4E00\u6B21\u4FDD\u5B58\u7684\u6570\u636E\u4E0D\u53EF\u4FEE\u6539\uFF0C\u4F46\u9700\u8981\u5728\u5F53\u524D\u57FA\u7840\u4E0A\u7EE7\u7EED\u65B0\u589E\u6570\u636E\u3002",style:{marginBottom:16}}),(0,d.jsx)(F.ZP,{component:function(s){return(0,d.jsx)(S,O()({},s))},value:u,onChange:function(s){return E(s)},initValues:R.jv})]})}},22142:function(G,v,n){n.d(v,{AD:function(){return h},Bq:function(){return f},jN:function(){return I},jv:function(){return B}});var g=n(26068),O=n.n(g),T=n(18416),C=n.n(T),B={input:""},f={key:C()(),level:0,rowValues:O()({},B)},I={key:C()(),level:0,type:1,children:[{rowValues:{input:""},disabled:!0,key:C()(),level:1},{key:C()(),type:1,level:2,disabled:!0,children:[{rowValues:{input:""},key:C()(),level:2},{key:C()(),rowValues:{input:""},level:2}]}]},h={key:C()(),level:1,type:1,children:[{rowValues:{input:""},key:C()(),level:1},{key:C()(),type:2,level:2,children:[{key:C()(),level:2,rowValues:{input:""}},{key:C()(),rowValues:{input:""},level:2}]}]}},77263:function(G,v,n){n.d(v,{de:function(){return D},NZ:function(){return c},ZP:function(){return $}});var g=n(26068),O=n.n(g),T=n(30629),C=n(11167),B=n(82092),f=n.n(B),I=n(75271),h=n(25043),K=n(18416),M=n.n(K),p=n(38323),F=n(15558),R=n.n(F),d=n(18704),S=n(82187),P=n.n(S),l=n(52676),u=32,E=16,t=new WeakMap,s=function(i){var N=i.value,L=i.disabled,ln=i.maxLevel,tn=i.maxSize,w=i.className,q=i.style,an=i.component,en=i.onAddCondition,dn=i.onDeleteCondition,un=i.onChangeCondition,on=i.onChangeRowValues,Q=function(_){return(_==null?void 0:_.type)&&[D.AND,D.OR].includes(_==null?void 0:_.type)},sn=function Y(_,X){var z=X||!!_.disabled;if(!(_!=null&&_.children))return t.set(_,{height:u+E,lineHeight:u});_.children.map(function(J){return Y(J,z)});var H=!_.children.some(Q),W=Q(_.children[0]);if(z){var o=_.children.reduce(function(J,nn){return J+t.get(nn).height},0),j,x;if(H)j=o-u-E;else{var k,En=_.children[0],rn=_.children[_.children.length-1],Dn=t.get(En).height-y(_,!0),mn=Q(rn),vn=y(_,!1),cn=t.get(rn).height-E-vn;x=mn?vn:u/2,j=Dn+((k=_.children)===null||k===void 0?void 0:k.slice(1,-1).reduce(function(J,nn){return J+t.get(nn).height},0))+cn}t.set(_,{bottom:x,lineHeight:j,height:o})}else{var V=_.children.reduce(function(J,nn){return J+t.get(nn).height},u),b;if(H){var e=t.get(_.children[0]).height-E,m=u;b=V-e/2-m/2}else{var a,r=W?t.get(_.children[0]).lineHeight/2+u/2:u/2+E;b=r+((a=_.children)===null||a===void 0?void 0:a.slice(1).reduce(function(J,nn){return J+t.get(nn).height},u/2))}t.set(_,{height:V,lineHeight:b})}return _},y=function Y(_,X){var z,H,W,V=X?_==null||(z=_.children)===null||z===void 0?void 0:z[0]:_==null||(H=_.children)===null||H===void 0?void 0:H[(_==null||(W=_.children)===null||W===void 0?void 0:W.length)-1];if(!V)return u/2;var b=Q(V);if(b){var e;return((e=t.get(V))===null||e===void 0?void 0:e.lineHeight)/2+Y(V,X)}return u/2},_n=function Y(_,X,z){var H,W=z||!!_.disabled;if(_!=null&&(H=_.children)!==null&&H!==void 0&&H.length){var V,b=function(o){var j=R()(X);return j.push.apply(j,["children",o]),j},e=t.get(_),m=e.lineHeight,a=e.bottom;return(0,l.jsxs)("div",{className:P()("dt-ruleController__condition",{"dt-ruleController__condition--active":_.children.length>1}),children:[(0,l.jsxs)("div",{className:P()("condition__box",{disabled:W}),style:{height:m,bottom:a!=null?a:E},children:[(0,l.jsx)("span",{className:P()("condition__box--name",{disabled:W}),onClick:function(){return!W&&un(_.key,_==null?void 0:_.type)},children:c[_==null?void 0:_.type]}),_.children.length>1&&(0,l.jsx)("span",{className:P()("condition__box--line",{disabled:z})})]}),_.children.map(function(r,o){return Y(r,b(o),W)}),!W&&(0,l.jsxs)("div",{className:"condition__add",children:[(0,l.jsx)("span",{className:"condition__add--line"}),(0,l.jsx)(d.PlusCircleOutlined,{className:P()("condition__add--icon",(_==null||(V=_.children)===null||V===void 0?void 0:V.length)>=tn&&"condition__add--icon--disabled"),onClick:function(){_!=null&&_.children&&_.children.length>=tn||en({key:_.key,isOut:!0})},"data-testid":"icon-plus"})]})]},_.key)}return(0,l.jsxs)("div",{className:"dt-ruleController__item",children:[(N==null?void 0:N.children)&&(0,l.jsx)("span",{className:P()("dt-ruleController__item--line",{disabled:z})}),(0,l.jsx)("div",{className:"dt-ruleController__item--component",children:an({rowKey:_.key,disabled:W,name:[].concat(R()(X),["rowValues"]),rowValues:_.rowValues,onChange:on})}),!W&&(0,l.jsxs)("div",{className:"dt-ruleController__item--operation",children:[_.level===ln?null:(0,l.jsx)(d.PlusCircleOutlined,{className:"icon",onClick:function(){return en({key:_.key})},"data-testid":"icon-plus"}),(0,l.jsx)(d.MinusCircleOutlined,{className:"icon",onClick:function(){return dn(_.key)},"data-testid":"icon-minus"})]})]},_.key)};return N?(sn(N,!!L),(0,l.jsx)("div",{className:P()("dt-ruleController",w),style:q,children:_n(N,[],!!L||!!N.disabled)})):null},D=function(A){return A[A.AND=1]="AND",A[A.OR=2]="OR",A}({}),c=f()(f()({},D.AND,"\u4E14"),D.OR,"\u6216");function U(A){return A.disabled===!0}var Z=function(i){var N=(0,p.Z)("FilterRules"),L=i.component,ln=i.disabled,tn=ln===void 0?!1:ln,w=i.value,q=!U(i)&&i,an=q.maxLevel,en=an===void 0?5:an,dn=q.maxSize,un=dn===void 0?100:dn,on=q.notEmpty,Q=on===void 0?{data:!0,message:N.message}:on,sn=q.initValues,y=q.onChange,_n=function b(e,m,a){var r,o=e;if(o.key===m)return o;if(!((r=o.children)!==null&&r!==void 0&&r.length))return null;for(var j=0;j<o.children.length;j++){var x=o.children[j];if(x.key===m)return a?x:o;var k=b(x,m,a);if(k)return k}},Y=function(e){var m=(0,h.Z)(w),a=_n(m,e.key,e.isOut);_(a,e,sn),y==null||y(m)},_=function(e,m,a){var r=m.key;if(m.isOut)return e.children.push(Object.assign({},{rowValues:a},{key:M()(),level:e.level}));var o=e==null?void 0:e.children;if(!o){var j={key:e.key,level:e.level+1,type:D.AND,children:[{rowValues:e.rowValues,key:M()(),level:(e==null?void 0:e.level)+1},{rowValues:a,key:M()(),level:(e==null?void 0:e.level)+1}]};delete e.rowValues,Object.assign(e,j);return}for(var x=0;x<o.length;x+=1)o[x].key===r&&(e==null?void 0:e.level)<=en&&(o[x]={key:o[x].key,type:D.AND,level:(e==null?void 0:e.level)+1,children:[Object.assign({},o[x],{key:M()(),level:(e==null?void 0:e.level)+1}),Object.assign({key:M()(),rowValues:a,level:(e==null?void 0:e.level)+1})]})},X=function(e){var m=(0,h.Z)(w),a=_n(m,e,!1);if(Q.data&&!(a!=null&&a.children))return C.default.info(Q.message);if(!Q.data&&!(a!=null&&a.children))return y==null?void 0:y(void 0);z(a,e),y==null||y(m)},z=function(e,m){var a,r,o=e;if(o.children=(a=o)===null||a===void 0||(a=a.children)===null||a===void 0?void 0:a.filter(function(k){return k.key!==m}),((r=o)===null||r===void 0||(r=r.children)===null||r===void 0?void 0:r.length)===1){var j=H(o.children[0]),x=o.key;delete o.children,delete o.type,o=Object.assign(o,O()(O()({},j),{},{key:x,level:j.level}))}},H=function b(e){var m;e.children&&(m=e.children.map(function(r){return b(r)}));var a=O()(O()({},e),{},{children:m,level:(e==null?void 0:e.level)-1});return a},W=function(e,m){var a=(0,h.Z)(w),r=_n(a,e,!0);r.type=m===D.AND?D.OR:D.AND,y==null||y(a)},V=function(e,m){var a,r=(0,h.Z)(w),o=_n(r,e,!0);o.rowValues=O()(O()({},(a=o.rowValues)!==null&&a!==void 0?a:{}),m),y==null||y(r)};return(0,l.jsx)(s,{maxLevel:en,maxSize:un,disabled:tn,value:w,component:L,onAddCondition:Y,onDeleteCondition:X,onChangeCondition:W,onChangeRowValues:V})},$=Z},38323:function(G,v,n){n.d(v,{R:function(){return T}});var g=n(75271),O=n(84617),T=(0,g.createContext)({locale:{}}),C=function(f){var I=(0,g.useContext)(T),h=(0,g.useMemo)(function(){var K,M,p=(K=O.Z[f])!==null&&K!==void 0?K:{},F=(M=I==null?void 0:I.locale[f])!==null&&M!==void 0?M:{};return Object.assign({},p,F)},[f,I]);return h};v.Z=C},84617:function(G,v){var n={locale:"zh-CN",BlockHeader:{expand:"\u5C55\u5F00",collapse:"\u6536\u8D77"},Catalogue:{searchPlaceholder:"\u641C\u7D22\u76EE\u5F55\u540D\u79F0",inputPlaceholder:"\u8BF7\u8F93\u5165"},Chat:{stopped:"\u56DE\u7B54\u5DF2\u505C\u6B62",stop:"\u505C\u6B62\u56DE\u7B54",regenerate:"\u91CD\u65B0\u751F\u6210"},Copy:{copied:"\u590D\u5236\u6210\u529F",copy:"\u590D\u5236"},Dropdown:{selectAll:"\u5168\u9009",resetText:"\u91CD\u7F6E",okText:"\u786E\u5B9A"},ErrorBoundary:{please:"\u53D1\u73B0\u65B0\u7248\u672C\uFF0C\u8BF7",get:"\u83B7\u53D6\u65B0\u7248\u672C\u3002",refresh:"\u5237\u65B0",title:"\u82E5\u8BE5\u63D0\u793A\u957F\u65F6\u95F4\u5B58\u5728\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u3002"},FilterRules:{message:"\u5FC5\u987B\u6709\u4E00\u6761\u6570\u636E"},Fullscreen:{exitFull:"\u9000\u51FA\u5168\u5C4F",full:"\u5168\u5C4F"},GlobalLoading:{loading:"\u5E94\u7528\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7B49\u5019\uFF5E"},Input:{case:"\u533A\u5206\u5927\u5C0F\u5199\u5339\u914D",precise:"\u7CBE\u786E\u5339\u914D",front:"\u5934\u90E8\u5339\u914D",tail:"\u5C3E\u90E8\u5339\u914D"},NotFound:{description:"\u62B1\u6B49\uFF0C\u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728"},SpreadSheet:{description:"\u6682\u65E0\u6570\u636E",copy:"\u590D\u5236\u503C",copyCol:"\u590D\u5236\u5217\u540D",copyAll:"\u590D\u5236\u5217\u540D\u548C\u503C"}};v.Z=n}}]);
