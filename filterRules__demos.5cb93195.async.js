"use strict";(self.webpackChunkdt_design=self.webpackChunkdt_design||[]).push([[1268],{16635:function(G,v,n){n.r(v);var A=n(34894),P=n.n(A),T=n(73285),c=n(26068),B=n.n(c),f=n(48305),I=n.n(f),O=n(79412),K=n.n(O),C=n(3010),p=n(75271),F=n(98428),R=n(74903),o=n(52676),S=function(l){var u=l.rowValues.input,E=l.rowKey,t=l.onChange;return(0,o.jsx)(C.default,{value:u,onChange:function(m){return t==null?void 0:t(E,{input:m.target.value})}})};v.default=function(){var M=(0,p.useState)(R.Bq),l=I()(M,2),u=l[0],E=l[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(F.ZP,{component:function(r){return(0,o.jsx)(S,B()({},r))},value:u,onChange:function(r){return E(r)},initValues:R.jv}),(0,o.jsx)(T.default,{onClick:function(){return console.log(u)},children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},86194:function(G,v,n){n.r(v);var A=n(26068),P=n.n(A),T=n(34894),c=n.n(T),B=n(73285),f=n(93393),I=n.n(f),O=n(79848),K=n(48305),C=n.n(K),p=n(79412),F=n.n(p),R=n(3010),o=n(75271),S=n(98428),M=n(74903),l=n(52676),u=function(t){var r=t.rowValues.input,m=t.rowKey,h=t.disabled,U=t.onChange;return(0,l.jsx)(R.default,{value:r,onChange:function($){return U==null?void 0:U(m,{input:$.target.value})},disabled:h})};v.default=function(){var E=O.Z.useForm(),t=C()(E,1),r=t[0],m=(0,o.useState)(!1),h=C()(m,2),U=h[0],Z=h[1];return(0,o.useEffect)(function(){r.setFieldsValue({condition:M.Bq})},[]),(0,l.jsxs)(O.Z,{form:r,children:[(0,l.jsxs)(B.default,{style:{marginBottom:16},onClick:function(){return Z(!U)},children:[U?"\u7F16\u8F91":"\u67E5\u770B","\u72B6\u6001"]}),(0,l.jsx)(O.Z.Item,{name:"condition",children:(0,l.jsx)(S.ZP,{component:function(g){return(0,l.jsx)(u,P()({},g))},disabled:U,initValues:M.jv})})]})}},44119:function(G,v,n){n.r(v);var A=n(26068),P=n.n(A),T=n(72239),c=n.n(T),B=n(45760),f=n(75247),I=n.n(f),O=n(87296),K=n(48305),C=n.n(K),p=n(79412),F=n.n(p),R=n(3010),o=n(75271),S=n(98428),M=n(74903),l=n(52676),u=function(t){var r=t.rowValues.input,m=t.rowKey,h=t.onChange;return(0,l.jsx)(R.default,{value:r,onChange:function(Z){return h==null?void 0:h(m,{input:Z.target.value})}})};v.default=function(){var E=(0,o.useState)(M.Bq),t=C()(E,2),r=t[0],m=t[1],h=(0,o.useState)(2),U=C()(h,2),Z=U[0],$=U[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(B.default,{style:{marginBottom:16},children:[(0,l.jsx)("span",{children:"\u6700\u5927\u5B50\u8282\u70B9\u4E2A\u6570:"}),(0,l.jsx)(O.Z,{value:Z,min:0,precision:0,onChange:function(s){return $(s!=null?s:0)}})]}),(0,l.jsx)(S.ZP,{component:function(s){return(0,l.jsx)(u,P()({},s))},value:r,maxSize:Z,onChange:function(s){return m(s)},initValues:M.jv})]})}},64924:function(G,v,n){n.r(v);var A=n(26068),P=n.n(A),T=n(73611),c=n.n(T),B=n(73421),f=n(48305),I=n.n(f),O=n(79412),K=n.n(O),C=n(3010),p=n(75271),F=n(98428),R=n(74903),o=n(52676),S=function(l){var u=l.rowValues.input,E=l.rowKey,t=l.onChange;return(0,o.jsx)(C.default,{value:u,onChange:function(m){return t==null?void 0:t(E,{input:m.target.value})}})};v.default=function(){var M=(0,p.useState)(R.AD),l=I()(M,2),u=l[0],E=l[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(B.default,{message:"\u53EF\u4EE5\u901A\u8FC7\u64CD\u4F5C\u6309\u94AE\u589E\u52A0\u5220\u9664\u6570\u636E\uFF0C\u5207\u6362\u4E14\u6216\u8282\u70B9\u5185\u5BB9",style:{marginBottom:16}}),(0,o.jsx)(F.ZP,{component:function(r){return(0,o.jsx)(S,P()({},r))},value:u,onChange:function(r){return E(r)},initValues:R.jv})]})}},40846:function(G,v,n){n.r(v);var A=n(90228),P=n.n(A),T=n(87999),c=n.n(T),B=n(26068),f=n.n(B),I=n(34894),O=n.n(I),K=n(73285),C=n(48305),p=n.n(C),F=n(93393),R=n.n(F),o=n(79848),S=n(79412),M=n.n(S),l=n(3010),u=n(15558),E=n.n(u),t=n(75271),r=n(98428),m=n(74903),h=n(52676),U=function($){var g=$.name;return(0,h.jsx)(o.Z.Item,{name:["condition"].concat(E()(g),["input"]),children:(0,h.jsx)(l.default,{})})};v.default=function(){var Z=o.Z.useForm(),$=p()(Z,1),g=$[0];return(0,h.jsxs)(o.Z,{form:g,children:[(0,h.jsx)(K.default,{onClick:function(){return g.setFieldsValue({condition:m.Bq})},style:{marginBottom:16},children:"\u6DFB\u52A0\u6570\u636E"}),(0,h.jsx)(o.Z.Item,{name:"condition",children:(0,h.jsx)(r.ZP,{component:function(N){return(0,h.jsx)(U,f()({},N))},notEmpty:{data:!1},initValues:m.jv})}),(0,h.jsx)(K.default,{onClick:c()(P()().mark(function s(){return P()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.t0=console,L.next=3,g.validateFields();case 3:return L.t1=L.sent,L.abrupt("return",L.t0.log.call(L.t0,L.t1));case 5:case"end":return L.stop()}},s)})),children:"\u63A7\u5236\u53F0\u67E5\u770B\u6570\u636E"})]})}},98240:function(G,v,n){n.r(v);var A=n(26068),P=n.n(A),T=n(73611),c=n.n(T),B=n(73421),f=n(48305),I=n.n(f),O=n(79412),K=n.n(O),C=n(3010),p=n(75271),F=n(98428),R=n(74903),o=n(52676),S=function(l){var u=l.rowValues.input,E=l.disabled,t=l.rowKey,r=l.onChange;return(0,o.jsx)(C.default,{value:u,disabled:E,onChange:function(h){return r==null?void 0:r(t,{input:h.target.value})}})};v.default=function(){var M=(0,p.useState)(R.jN),l=I()(M,2),u=l[0],E=l[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(B.default,{message:"\u9002\u7528\u4E8E\u90E8\u5206\u6570\u636E\u7981\u7528\u4E14\u53EF\u4EE5\u7F16\u8F91\u5176\u4ED6\u6570\u636E\u3002\u5E38\u89C1\u4E1A\u52A1\u60C5\u666F\uFF1A\u4E0A\u4E00\u6B21\u4FDD\u5B58\u7684\u6570\u636E\u4E0D\u53EF\u4FEE\u6539\uFF0C\u4F46\u9700\u8981\u5728\u5F53\u524D\u57FA\u7840\u4E0A\u7EE7\u7EED\u65B0\u589E\u6570\u636E\u3002",style:{marginBottom:16}}),(0,o.jsx)(F.ZP,{component:function(r){return(0,o.jsx)(S,P()({},r))},value:u,onChange:function(r){return E(r)},initValues:R.jv})]})}},74903:function(G,v,n){n.d(v,{AD:function(){return O},Bq:function(){return f},jN:function(){return I},jv:function(){return B}});var A=n(26068),P=n.n(A),T=n(18416),c=n.n(T),B={input:""},f={key:c()(),level:0,rowValues:P()({},B)},I={key:c()(),level:0,type:1,children:[{rowValues:{input:""},disabled:!0,key:c()(),level:1},{key:c()(),type:1,level:2,disabled:!0,children:[{rowValues:{input:""},key:c()(),level:2},{key:c()(),rowValues:{input:""},level:2}]}]},O={key:c()(),level:1,type:1,children:[{rowValues:{input:""},key:c()(),level:1},{key:c()(),type:2,level:2,children:[{key:c()(),level:2,rowValues:{input:""}},{key:c()(),rowValues:{input:""},level:2}]}]}},98428:function(G,v,n){n.d(v,{de:function(){return m},NZ:function(){return h},ZP:function(){return $}});var A=n(26068),P=n.n(A),T=n(59439),c=n(82983),B=n(82092),f=n.n(B),I=n(75271),O=n(25043),K=n(18416),C=n.n(K),p=n(82545),F=n(15558),R=n.n(F),o=n(18704),S=n(82187),M=n.n(S),l=n(52676),u=32,E=16,t=new WeakMap,r=function(s){var N=s.value,L=s.disabled,ln=s.maxLevel,tn=s.maxSize,w=s.className,q=s.style,dn=s.component,en=s.onAddCondition,on=s.onDeleteCondition,un=s.onChangeCondition,an=s.onChangeRowValues,Q=function(_){return(_==null?void 0:_.type)&&[m.AND,m.OR].includes(_==null?void 0:_.type)},rn=function Y(_,X){var z=X||!!_.disabled;if(!(_!=null&&_.children))return t.set(_,{height:u+E,lineHeight:u});_.children.map(function(J){return Y(J,z)});var H=!_.children.some(Q),W=Q(_.children[0]);if(z){var a=_.children.reduce(function(J,nn){return J+t.get(nn).height},0),j,x;if(H)j=a-u-E;else{var k,En=_.children[0],sn=_.children[_.children.length-1],mn=t.get(En).height-y(_,!0),Dn=Q(sn),vn=y(_,!1),hn=t.get(sn).height-E-vn;x=Dn?vn:u/2,j=mn+((k=_.children)===null||k===void 0?void 0:k.slice(1,-1).reduce(function(J,nn){return J+t.get(nn).height},0))+hn}t.set(_,{bottom:x,lineHeight:j,height:a})}else{var V=_.children.reduce(function(J,nn){return J+t.get(nn).height},u),b;if(H){var e=t.get(_.children[0]).height-E,D=u;b=V-e/2-D/2}else{var d,i=W?t.get(_.children[0]).lineHeight/2+u/2:u/2+E;b=i+((d=_.children)===null||d===void 0?void 0:d.slice(1).reduce(function(J,nn){return J+t.get(nn).height},u/2))}t.set(_,{height:V,lineHeight:b})}return _},y=function Y(_,X){var z,H,W,V=X?_==null||(z=_.children)===null||z===void 0?void 0:z[0]:_==null||(H=_.children)===null||H===void 0?void 0:H[(_==null||(W=_.children)===null||W===void 0?void 0:W.length)-1];if(!V)return u/2;var b=Q(V);if(b){var e;return((e=t.get(V))===null||e===void 0?void 0:e.lineHeight)/2+Y(V,X)}return u/2},_n=function Y(_,X,z){var H,W=z||!!_.disabled;if(_!=null&&(H=_.children)!==null&&H!==void 0&&H.length){var V,b=function(a){var j=R()(X);return j.push.apply(j,["children",a]),j},e=t.get(_),D=e.lineHeight,d=e.bottom;return(0,l.jsxs)("div",{className:M()("dt-ruleController__condition",{"dt-ruleController__condition--active":_.children.length>1}),children:[(0,l.jsxs)("div",{className:M()("condition__box",{disabled:W}),style:{height:D,bottom:d!=null?d:E},children:[(0,l.jsx)("span",{className:M()("condition__box--name",{disabled:W}),onClick:function(){return!W&&un(_.key,_==null?void 0:_.type)},children:h[_==null?void 0:_.type]}),_.children.length>1&&(0,l.jsx)("span",{className:M()("condition__box--line",{disabled:z})})]}),_.children.map(function(i,a){return Y(i,b(a),W)}),!W&&(0,l.jsxs)("div",{className:"condition__add",children:[(0,l.jsx)("span",{className:"condition__add--line"}),(0,l.jsx)(o.PlusCircleOutlined,{className:M()("condition__add--icon",(_==null||(V=_.children)===null||V===void 0?void 0:V.length)>=tn&&"condition__add--icon--disabled"),onClick:function(){_!=null&&_.children&&_.children.length>=tn||en({key:_.key,isOut:!0})},"data-testid":"icon-plus"})]})]},_.key)}return(0,l.jsxs)("div",{className:"dt-ruleController__item",children:[(N==null?void 0:N.children)&&(0,l.jsx)("span",{className:M()("dt-ruleController__item--line",{disabled:z})}),(0,l.jsx)("div",{className:"dt-ruleController__item--component",children:dn({rowKey:_.key,disabled:W,name:[].concat(R()(X),["rowValues"]),rowValues:_.rowValues,onChange:an})}),!W&&(0,l.jsxs)("div",{className:"dt-ruleController__item--operation",children:[_.level===ln?null:(0,l.jsx)(o.PlusCircleOutlined,{className:"icon",onClick:function(){return en({key:_.key})},"data-testid":"icon-plus"}),(0,l.jsx)(o.MinusCircleOutlined,{className:"icon",onClick:function(){return on(_.key)},"data-testid":"icon-minus"})]})]},_.key)};return N?(rn(N,!!L),(0,l.jsx)("div",{className:M()("dt-ruleController",w),style:q,children:_n(N,[],!!L||!!N.disabled)})):null},m=function(g){return g[g.AND=1]="AND",g[g.OR=2]="OR",g}({}),h=f()(f()({},m.AND,"\u4E14"),m.OR,"\u6216");function U(g){return g.disabled===!0}var Z=function(s){var N=(0,p.Z)("FilterRules"),L=s.component,ln=s.disabled,tn=ln===void 0?!1:ln,w=s.value,q=!U(s)&&s,dn=q.maxLevel,en=dn===void 0?5:dn,on=q.maxSize,un=on===void 0?100:on,an=q.notEmpty,Q=an===void 0?{data:!0,message:N.message}:an,rn=q.initValues,y=q.onChange,_n=function b(e,D,d){var i,a=e;if(a.key===D)return a;if(!((i=a.children)!==null&&i!==void 0&&i.length))return null;for(var j=0;j<a.children.length;j++){var x=a.children[j];if(x.key===D)return d?x:a;var k=b(x,D,d);if(k)return k}},Y=function(e){var D=(0,O.Z)(w),d=_n(D,e.key,e.isOut);_(d,e,rn),y==null||y(D)},_=function(e,D,d){var i=D.key;if(D.isOut)return e.children.push(Object.assign({},{rowValues:d},{key:C()(),level:e.level}));var a=e==null?void 0:e.children;if(!a){var j={key:e.key,level:e.level+1,type:m.AND,children:[{rowValues:e.rowValues,key:C()(),level:(e==null?void 0:e.level)+1},{rowValues:d,key:C()(),level:(e==null?void 0:e.level)+1}]};delete e.rowValues,Object.assign(e,j);return}for(var x=0;x<a.length;x+=1)a[x].key===i&&(e==null?void 0:e.level)<=en&&(a[x]={key:a[x].key,type:m.AND,level:(e==null?void 0:e.level)+1,children:[Object.assign({},a[x],{key:C()(),level:(e==null?void 0:e.level)+1}),Object.assign({key:C()(),rowValues:d,level:(e==null?void 0:e.level)+1})]})},X=function(e){var D=(0,O.Z)(w),d=_n(D,e,!1);if(Q.data&&!(d!=null&&d.children))return c.default.info(Q.message);if(!Q.data&&!(d!=null&&d.children))return y==null?void 0:y(void 0);z(d,e),y==null||y(D)},z=function(e,D){var d,i,a=e;if(a.children=(d=a)===null||d===void 0||(d=d.children)===null||d===void 0?void 0:d.filter(function(k){return k.key!==D}),((i=a)===null||i===void 0||(i=i.children)===null||i===void 0?void 0:i.length)===1){var j=H(a.children[0]),x=a.key;delete a.children,delete a.type,a=Object.assign(a,P()(P()({},j),{},{key:x,level:j.level}))}},H=function b(e){var D;e.children&&(D=e.children.map(function(i){return b(i)}));var d=P()(P()({},e),{},{children:D,level:(e==null?void 0:e.level)-1});return d},W=function(e,D){var d=(0,O.Z)(w),i=_n(d,e,!0);i.type=D===m.AND?m.OR:m.AND,y==null||y(d)},V=function(e,D){var d,i=(0,O.Z)(w),a=_n(i,e,!0);a.rowValues=P()(P()({},(d=a.rowValues)!==null&&d!==void 0?d:{}),D),y==null||y(i)};return(0,l.jsx)(r,{maxLevel:en,maxSize:un,disabled:tn,value:w,component:L,onAddCondition:Y,onDeleteCondition:X,onChangeCondition:W,onChangeRowValues:V})},$=Z},82545:function(G,v,n){n.d(v,{R:function(){return T}});var A=n(75271),P=n(5379),T=(0,A.createContext)({locale:{}}),c=function(f){var I=(0,A.useContext)(T),O=(0,A.useMemo)(function(){var K,C,p=(K=P.Z[f])!==null&&K!==void 0?K:{},F=(C=I==null?void 0:I.locale[f])!==null&&C!==void 0?C:{};return Object.assign({},p,F)},[f,I]);return O};v.Z=c},5379:function(G,v){var n={locale:"zh-CN",BlockHeader:{expand:"\u5C55\u5F00",collapse:"\u6536\u8D77"},Catalogue:{searchPlaceholder:"\u641C\u7D22\u76EE\u5F55\u540D\u79F0",inputPlaceholder:"\u8BF7\u8F93\u5165"},Chat:{stopped:"\u56DE\u7B54\u5DF2\u505C\u6B62",stop:"\u505C\u6B62\u56DE\u7B54",regenerate:"\u91CD\u65B0\u751F\u6210"},Copy:{copied:"\u590D\u5236\u6210\u529F",copy:"\u590D\u5236"},Dropdown:{selectAll:"\u5168\u9009",resetText:"\u91CD\u7F6E",okText:"\u786E\u5B9A"},ErrorBoundary:{please:"\u53D1\u73B0\u65B0\u7248\u672C\uFF0C\u8BF7",get:"\u83B7\u53D6\u65B0\u7248\u672C\u3002",refresh:"\u5237\u65B0",title:"\u82E5\u8BE5\u63D0\u793A\u957F\u65F6\u95F4\u5B58\u5728\uFF0C\u8BF7\u8054\u7CFB\u7BA1\u7406\u5458\u3002"},FilterRules:{message:"\u5FC5\u987B\u6709\u4E00\u6761\u6570\u636E"},Fullscreen:{exitFull:"\u9000\u51FA\u5168\u5C4F",full:"\u5168\u5C4F"},GlobalLoading:{loading:"\u5E94\u7528\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7B49\u5019\uFF5E"},Input:{case:"\u533A\u5206\u5927\u5C0F\u5199\u5339\u914D",precise:"\u7CBE\u786E\u5339\u914D",front:"\u5934\u90E8\u5339\u914D",tail:"\u5C3E\u90E8\u5339\u914D"},NotFound:{description:"\u62B1\u6B49\uFF0C\u60A8\u8BBF\u95EE\u7684\u9875\u9762\u4E0D\u5B58\u5728"},SpreadSheet:{description:"\u6682\u65E0\u6570\u636E",copy:"\u590D\u5236\u503C",copyCol:"\u590D\u5236\u5217\u540D",copyAll:"\u590D\u5236\u5217\u540D\u548C\u503C"}};v.Z=n}}]);
