"use strict";(self.webpackChunkdt_design=self.webpackChunkdt_design||[]).push([[7964],{21488:function(s,t,n){n.r(t),n.d(t,{demos:function(){return e}});var o=n(75271),e={"src-chat-index-tab-button-demo-button":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,50717))})),asset:{type:"BLOCK",id:"src-chat-index-tab-button-demo-button",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(56825).Z},react:{type:"NPM",value:"18.3.1"},"@dtinsight/react-icons":{type:"NPM",value:"1.5.0"},antd:{type:"NPM",value:"4.22.5"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",title:"\u57FA\u672C\u4F7F\u7528"},context:void 0,renderOpts:void 0}}},61720:function(s,t,n){n.r(t),n.d(t,{demos:function(){return e}});var o=n(75271),e={"src-chat-index-tab-code-block-demo-codeblock":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,85973))})),asset:{type:"BLOCK",id:"src-chat-index-tab-code-block-demo-codeblock",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(61026).Z},react:{type:"NPM",value:"18.3.1"},"@dtinsight/react-icons":{type:"NPM",value:"1.5.0"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",title:"\u57FA\u672C\u4F7F\u7528"},context:void 0,renderOpts:void 0},"src-chat-index-tab-code-block-demo-codeblock-convert":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,72034))})),asset:{type:"BLOCK",id:"src-chat-index-tab-code-block-demo-codeblock-convert",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(28713).Z},react:{type:"NPM",value:"18.3.1"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",description:"\u5728\u6D45\u8272\u80CC\u666F\u4E0B\u4F7F\u7528\u53CD\u8272\u6A21\u5F0F",title:"\u53CD\u8272"},context:void 0,renderOpts:void 0}}},98947:function(s,t,n){n.r(t),n.d(t,{demos:function(){return e}});var o=n(75271),e={"src-chat-index-tab-input-demo-input":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,31104))})),asset:{type:"BLOCK",id:"src-chat-index-tab-input-demo-input",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(97614).Z},react:{type:"NPM",value:"18.3.1"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",title:"\u57FA\u672C\u4F7F\u7528"},context:void 0,renderOpts:void 0}}},89042:function(s,t,n){n.r(t),n.d(t,{demos:function(){return e}});var o=n(75271),e={"src-chat-index-tab-loading-demo-loading":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,56579))})),asset:{type:"BLOCK",id:"src-chat-index-tab-loading-demo-loading",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(24140).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"4.22.5"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",title:"\u57FA\u672C\u4F7F\u7528"},context:void 0,renderOpts:void 0}}},4405:function(s,t,n){n.r(t),n.d(t,{demos:function(){return e}});var o=n(75271),e={"src-chat-index-tab-markdown-demo-markdown":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,45704))})),asset:{type:"BLOCK",id:"src-chat-index-tab-markdown-demo-markdown",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(24356).Z},react:{type:"NPM",value:"18.3.1"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",title:"\u57FA\u672C\u4F7F\u7528",description:"markdown \u7EC4\u4EF6\u9ED8\u8BA4\u5185\u7F6E\u7EC4\u4EF6"},context:void 0,renderOpts:void 0}}},1309:function(s,t,n){n.r(t),n.d(t,{demos:function(){return e}});var o=n(75271),e={"src-chat-index-tab-message-demo-message":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,23751))})),asset:{type:"BLOCK",id:"src-chat-index-tab-message-demo-message",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(74949).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"4.22.5"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",title:"\u57FA\u672C\u4F7F\u7528"},context:void 0,renderOpts:void 0},"src-chat-index-tab-message-demo-message-lazyrendered":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,76116))})),asset:{type:"BLOCK",id:"src-chat-index-tab-message-demo-message-lazyrendered",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(81409).Z},react:{type:"NPM",value:"18.3.1"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",title:"\u61D2\u52A0\u8F7D"},context:void 0,renderOpts:void 0}}},92493:function(s,t,n){n.r(t),n.d(t,{demos:function(){return e}});var o=n(75271),e={"src-chat-index-tab-prompt-demo-prompt":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,63451))})),asset:{type:"BLOCK",id:"src-chat-index-tab-prompt-demo-prompt",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(95751).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"4.22.5"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",title:"\u57FA\u672C\u4F7F\u7528"},context:void 0,renderOpts:void 0}}},69038:function(s,t,n){n.r(t),n.d(t,{demos:function(){return e}});var o=n(75271),e={"src-chat-index-tab-tag-demo-tag":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(3060),n.e(9520),n.e(478),n.e(3493),n.e(168),n.e(8208),n.e(2878),n.e(8327),n.e(770),n.e(8526),n.e(2179),n.e(5053),n.e(27),n.e(7524),n.e(8288),n.e(8460),n.e(7955),n.e(3859),n.e(4920),n.e(732),n.e(2433)]).then(n.bind(n,75672))})),asset:{type:"BLOCK",id:"src-chat-index-tab-tag-demo-tag",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:n(68466).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"4.22.5"},"dt-design":{type:"NPM",value:"1.0.0"}},entry:"index.tsx",title:"\u57FA\u672C\u4F7F\u7528"},context:void 0,renderOpts:void 0}}},83917:function(s,t,n){n.r(t),n.d(t,{demos:function(){return e}});var o=n(75271),e={"chat-demo-basic":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(9520),n.e(1939),n.e(27),n.e(8288),n.e(5491),n.e(732),n.e(4905)]).then(n.bind(n,44013))})),asset:{type:"BLOCK",id:"chat-demo-basic",refAtomIds:["chat"],dependencies:{"index.tsx":{type:"FILE",value:n(73147).Z},react:{type:"NPM",value:"18.3.1"},"@dtinsight/react-icons":{type:"NPM",value:"1.5.0"},antd:{type:"NPM",value:"4.22.5"},"dt-design":{type:"NPM",value:"1.0.0"},"./mockSSE.ts":{type:"FILE",value:n(62505).Z}},entry:"index.tsx",title:"\u57FA\u672C\u4F7F\u7528"},context:void 0,renderOpts:void 0},"chat-demo-global-state":{component:o.memo(o.lazy(function(){return Promise.all([n.e(7350),n.e(327),n.e(1270),n.e(3370),n.e(1204),n.e(8704),n.e(1273),n.e(7127),n.e(3350),n.e(9520),n.e(1939),n.e(27),n.e(8288),n.e(5491),n.e(732),n.e(4905)]).then(n.bind(n,14813))})),asset:{type:"BLOCK",id:"chat-demo-global-state",refAtomIds:["chat"],dependencies:{"index.tsx":{type:"FILE",value:n(71067).Z},react:{type:"NPM",value:"18.3.1"},antd:{type:"NPM",value:"4.22.5"},"dt-design":{type:"NPM",value:"1.0.0"},immer:{type:"NPM",value:"10.1.3"},"../mockSSE.ts":{type:"FILE",value:n(62505).Z}},entry:"index.tsx",title:"Chat \u6570\u636E\u6301\u4E45\u5316",description:"\uFF08\u4E0D\u63A8\u8350\uFF09\u5C06\u76F8\u5173\u6570\u636E\u6301\u4E45\u5316\u5165\u4E0A\u5C42\u7EC4\u4EF6"},context:void 0,renderOpts:void 0}}},4707:function(s,t,n){n.r(t),n.d(t,{texts:function(){return o}});const o=[{value:"Chat \u89C4\u8303\u7531\u591A\u4E2A\u7EC4\u4EF6\u590D\u5408\u4F7F\u7528\u5B9E\u73B0\u843D\u5730\u573A\u666F\uFF0C\u5176\u4E2D\uFF1A",paraId:0,tocIndex:1},{value:"useChat",paraId:1,tocIndex:1},{value:" \u662F\u65E8\u5728\u89E3\u51B3 Chat \u7684\u6570\u636E\u95EE\u9898\u7684 hook",paraId:1,tocIndex:1},{value:"Chat",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u4F5C\u4E3A Chat \u7EC4\u4EF6\u7684\u96C6\u5408\u53CA Provider",paraId:1,tocIndex:1},{value:"Loading",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u56DE\u7B54\u6846\u5728\u7B49\u5F85\u751F\u6210\u65F6\u7684\u52A0\u8F7D\u7EC4\u4EF6",paraId:1,tocIndex:1},{value:"Button",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u7B26\u5408 AI \u89C4\u8303\u7684\u6309\u94AE\u7EC4\u4EF6",paraId:1,tocIndex:1},{value:"CodeBlock",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u7B26\u5408 AI \u89C4\u8303\u7684\u4EE3\u7801\u5757\u7EC4\u4EF6",paraId:1,tocIndex:1},{value:"Input",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u7B26\u5408 AI \u89C4\u8303\u7684\u8F93\u5165\u6846\u7EC4\u4EF6",paraId:1,tocIndex:1},{value:"Markdown",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u7B26\u5408 AI \u89C4\u8303\u7684\u6E32\u67D3 markdown \u7684\u7EC4\u4EF6",paraId:1,tocIndex:1},{value:"Pagination",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u7B26\u5408 AI \u89C4\u8303\u7684\u5206\u9875\u5668",paraId:1,tocIndex:1},{value:"Message",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u7B26\u5408 AI \u89C4\u8303\u7684\u56DE\u7B54\u6846",paraId:1,tocIndex:1},{value:"Prompt",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u7B26\u5408 AI \u89C4\u8303\u7684\u63D0\u95EE\u6846",paraId:1,tocIndex:1},{value:"Content",paraId:1,tocIndex:1},{value:" \u7EC4\u4EF6\u662F\u7B26\u5408 AI \u89C4\u8303\u7684\u6B63\u6587\u5185\u5BB9",paraId:1,tocIndex:1},{value:"\u6D89\u53CA\u5230 AI \u76F8\u5173\u529F\u80FD\u65F6\u3002",paraId:2,tocIndex:2}]},73147:function(s,t){t.Z=`import React, { useEffect, useState } from 'react';
import { ThumbsUpOutlined } from '@dtinsight/react-icons';
import { Button } from 'antd';
import { Chat, Flex } from 'dt-design';

import { mockSSE } from './mockSSE';

export default function () {
    const chat = Chat.useChat();
    const [value, setValue] = useState<string | undefined>('');

    const [convert, setConvert] = useState(false);

    const handleSubmit = (raw = value) => {
        const val = raw?.trim();
        if (chat.loading() || !val) return;
        setValue('');
        const promptId = new Date().valueOf().toString();
        const messageId = (new Date().valueOf() + 1).toString();
        chat.prompt.create({ id: promptId, title: val });
        chat.message.create(promptId, { id: messageId, content: '' });
        mockSSE({
            message: val,
            onopen() {
                chat.start(promptId, messageId);
            },
            onmessage(str) {
                chat.push(promptId, messageId, str);
            },
            onstop() {
                chat.close(promptId, messageId);
            },
        });
    };

    useEffect(() => {
        chat.conversation.create({ id: new Date().valueOf().toString() });
    }, []);

    return (
        <div style={{ width: '100%', height: 400, marginBottom: 56 }}>
            <Chat
                chat={chat}
                codeBlock={{
                    convert,
                }}
                messageIcons={() => <ThumbsUpOutlined className="dtc__message__icon" />}
                components={{
                    a: ({ children }) => (
                        <Button
                            type="primary"
                            size="small"
                            ghost
                            onClick={() => setConvert((p) => !p)}
                        >
                            {children}
                        </Button>
                    ),
                }}
            >
                <Chat.Content
                    data={chat.conversation.get()?.prompts || []}
                    placeholder={
                        <h1>
                            <Chat.Welcome
                                title="dt-design"
                                description="React UI component library based on antd package"
                            />
                            <br />
                            <Flex vertical align="start" gap="4px">
                                <Chat.Tag onClick={() => handleSubmit('\u8BF7\u544A\u8BC9\u6211\u4E00\u9996\u8BD7')}>
                                    \u8FD4\u56DE\u4E00\u9996\u8BD7
                                </Chat.Tag>
                                <Chat.Tag onClick={() => handleSubmit('\u751F\u6210 CodeBlock')}>
                                    \u751F\u6210 CodeBlock
                                </Chat.Tag>
                            </Flex>
                        </h1>
                    }
                />
                <Chat.Input
                    value={value}
                    onChange={setValue}
                    onPressEnter={() => handleSubmit()}
                    onPressShiftEnter={() => setValue((v) => v + '\\n')}
                    button={{
                        disabled: chat.loading() || !value?.trim(),
                    }}
                    placeholder="\u8BF7\u8F93\u5165\u60F3\u54A8\u8BE2\u7684\u5185\u5BB9\u2026"
                />
            </Chat>
        </div>
    );
}
`},56825:function(s,t){t.Z=`import React from 'react';
import { AigcOutlined } from '@dtinsight/react-icons';
import { Button, Col, Row, Space } from 'antd';
import { Chat } from 'dt-design';

export default function () {
    const [disabled, setDisabled] = React.useState(false);
    return (
        <Row gutter={[16, 16]}>
            <Col span={24}>
                <Button type="primary" onClick={() => setDisabled((p) => !p)}>
                    \u5207\u6362 disabled
                </Button>
            </Col>
            <Col span={24}>
                <Space>
                    <Chat.Button
                        type="primary"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    />
                    <Chat.Button
                        type="primary"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        \u6309\u94AE
                    </Chat.Button>
                    <Chat.Button
                        type="default"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        \u6309\u94AE
                    </Chat.Button>
                    <Chat.Button
                        type="secondary"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        \u6309\u94AE
                    </Chat.Button>
                    <Chat.Button
                        type="secondary"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        AI log parsing
                    </Chat.Button>
                </Space>
            </Col>
            <Col span={24}>
                <Space>
                    <Chat.Button
                        size="small"
                        type="primary"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    />
                    <Chat.Button
                        size="small"
                        type="primary"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        \u6309\u94AE
                    </Chat.Button>
                    <Chat.Button
                        size="small"
                        type="default"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        \u6309\u94AE
                    </Chat.Button>
                    <Chat.Button
                        size="small"
                        type="secondary"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        \u6309\u94AE
                    </Chat.Button>
                    <Chat.Button
                        size="small"
                        type="secondary"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        AI log parsing
                    </Chat.Button>
                </Space>
            </Col>
            <Col span={24}>
                <Space>
                    <Chat.Button
                        type="secondary"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        \u91CD\u65B0\u751F\u6210
                    </Chat.Button>
                    <Chat.Button
                        size="small"
                        type="default"
                        disabled={disabled}
                        icon={<AigcOutlined style={{ fontSize: 16 }} />}
                    >
                        \u667A\u80FD\u89E3\u6790
                    </Chat.Button>
                </Space>
            </Col>
        </Row>
    );
}
`},28713:function(s,t){t.Z=`import React from 'react';
import { Chat } from 'dt-design';

const children = \`
\\\`\\\`\\\` sql
SELECT * FROM table_name;
\\\`\\\`\\\`
\`;
export default function CodeBlock() {
    return (
        <Chat.Markdown
            components={{
                pre({ children }) {
                    return <Chat.CodeBlock convert>{children}</Chat.CodeBlock>;
                },
            }}
        >
            {children}
        </Chat.Markdown>
    );
}
`},61026:function(s,t){t.Z=`import React from 'react';
import { PlusCircleOutlined } from '@dtinsight/react-icons';
import { Chat } from 'dt-design';

const children = \`
\\\`\\\`\\\` sql
SELECT * FROM table_name;
\\\`\\\`\\\`
\`;
export default function CodeBlock() {
    return (
        <Chat.Markdown
            components={{
                pre({ children }) {
                    return (
                        <Chat.CodeBlock copy={false} toolbars={() => <PlusCircleOutlined />}>
                            {children}
                        </Chat.CodeBlock>
                    );
                },
            }}
        >
            {children}
        </Chat.Markdown>
    );
}
`},71067:function(s,t){t.Z=`import React, { useMemo, useState } from 'react';
import { Tabs } from 'antd';
import { Chat } from 'dt-design';
import { Conversation, Message, MessageStatus, Prompt } from 'dt-design/chat/entity';
import { produce } from 'immer';

import { mockSSE } from '../mockSSE';

export default function () {
    const [tabs, setTabs] = useState([{ label: 'Tab 1', children: 'Content of Tab 1', key: '1' }]);
    const [activeKey, setActiveKey] = useState('1');

    const [conversations, setConversations] = useState<Record<string, Conversation>>({});

    const add = () => {
        const newActiveKey = new Date().valueOf().toString();
        const newPanes = [...tabs];
        newPanes.push({ label: 'New Tab', children: 'Content of new Tab', key: newActiveKey });
        setTabs(newPanes);
        setActiveKey(newActiveKey);
    };

    const remove = (targetKey: string) => {
        let newActiveKey = activeKey;
        let lastIndex = -1;
        tabs.forEach((item, i) => {
            if (item.key === targetKey) {
                lastIndex = i - 1;
            }
        });
        const newPanes = tabs.filter((item) => item.key !== targetKey);
        if (newPanes.length && newActiveKey === targetKey) {
            if (lastIndex >= 0) {
                newActiveKey = newPanes[lastIndex].key;
            } else {
                newActiveKey = newPanes[0].key;
            }
        }
        setTabs(newPanes);
        setActiveKey(newActiveKey);
    };

    const data = useMemo(() => {
        return conversations[activeKey];
    }, [activeKey, conversations]);

    const handleSubmit = (val = '') => {
        if (!data) {
            const promptId = new Date().valueOf().toString();
            const messageId = (new Date().valueOf() + 1).toString();
            const conversationId = (new Date().valueOf() + 2).toString();
            const message = new (class extends Message {})({ id: messageId });
            const prompt = new (class extends Prompt {})({
                id: promptId,
                title: val,
                messages: [message],
            });
            const conversation = new (class extends Conversation {})({
                id: conversationId,
                prompts: [prompt],
            });
            setConversations((prev) => ({ ...prev, [activeKey]: conversation }));
            mockSSE({
                message: val,
                onopen() {
                    setConversations((prev) => ({
                        ...prev,
                        [activeKey]: produce(prev[activeKey], (draft) => {
                            const prompt = draft.prompts.find((i) => i.id === promptId);
                            const message = prompt?.messages.find((i) => i.id === messageId);
                            if (!message) return;
                            message.status = MessageStatus.GENERATING;
                        }),
                    }));
                },
                onmessage(str) {
                    setConversations((prev) => ({
                        ...prev,
                        [activeKey]: produce(prev[activeKey], (draft) => {
                            const prompt = draft.prompts.find((i) => i.id === promptId);
                            const message = prompt?.messages.find((i) => i.id === messageId);
                            if (!message) return;
                            message.content += str;
                        }),
                    }));
                },
                onstop() {
                    setConversations((prev) => ({
                        ...prev,
                        [activeKey]: produce(prev[activeKey], (draft) => {
                            const prompt = draft.prompts.find((i) => i.id === promptId);
                            const message = prompt?.messages.find((i) => i.id === messageId);
                            if (!message) return;
                            message.status = MessageStatus.DONE;
                        }),
                    }));
                },
            });
        }
    };

    return (
        <>
            <Tabs
                type="editable-card"
                onChange={setActiveKey}
                activeKey={activeKey}
                onEdit={(targetKey, action) => {
                    if (action === 'add') {
                        add();
                    } else {
                        remove(targetKey as string);
                    }
                }}
            >
                {tabs.map((i) => (
                    <Tabs.TabPane tab={i.label} key={i.key} closable={tabs.length !== 1} />
                ))}
            </Tabs>
            <AI data={data} onSubmit={handleSubmit} />
        </>
    );
}

function AI({ data, onSubmit }: { data?: Conversation; onSubmit?: (str?: string) => void }) {
    const chat = Chat.useChat();
    const [value, setValue] = useState<string | undefined>('');

    return (
        <div style={{ width: '100%', height: 400, marginBottom: 46 }}>
            <Chat chat={chat}>
                <Chat.Content
                    data={data?.prompts || []}
                    placeholder={
                        <h1>
                            <Chat.Welcome
                                title="dt-design"
                                description="React UI component library based on antd package"
                            />
                            <br />
                            <Chat.Tag onClick={() => onSubmit?.('\u8BF7\u544A\u8BC9\u6211\u4E00\u9996\u8BD7')}>
                                \u8FD4\u56DE\u4E00\u9996\u8BD7
                            </Chat.Tag>
                        </h1>
                    }
                />
                <Chat.Input
                    value={value}
                    onChange={setValue}
                    onPressEnter={() => onSubmit?.(value)}
                    onPressShiftEnter={() => setValue((v) => v + '\\n')}
                    button={{
                        disabled: chat.loading() || !value?.trim(),
                    }}
                    placeholder="\u8BF7\u8F93\u5165\u60F3\u54A8\u8BE2\u7684\u5185\u5BB9\u2026"
                />
            </Chat>
        </div>
    );
}
`},97614:function(s,t){t.Z=`import React, { useState } from 'react';
import { Chat } from 'dt-design';

export default function () {
    const [value, setValue] = useState<string | undefined>('');
    return (
        <Chat.Input
            placeholder="\u8F93\u5165 Shift + Enter \u6362\u884C"
            value={value}
            onChange={setValue}
            button={{
                disabled: !value?.trim(),
            }}
            onPressEnter={() => console.log('value:', value)}
        />
    );
}
`},24140:function(s,t){t.Z=`import React, { useState } from 'react';
import { Button } from 'antd';
import { Chat } from 'dt-design';

export default function () {
    const [loading, setLoading] = useState(true);
    return (
        <>
            <Button onClick={() => setLoading((p) => !p)}>toggle</Button>
            <Chat.Loading loading={loading} />
        </>
    );
}
`},24356:function(s,t){t.Z=`import React from 'react';
import { Chat } from 'dt-design';

const children = \`
# \u5927\u6807\u9898
## \u5C0F\u6807\u9898
### \u6807\u9898
#### \u6807\u9898
##### \u6807\u9898
###### \u6807\u9898
\u6B63\u6587
**\u52A0\u7C97**
*\u659C\u4F53*
***\u52A0\u7C97\u659C\u4F53***
~~\u5220\u9664\u7EBF~~
\\\`\u884C\u5185\u4EE3\u7801\\\`
\\\`\\\`\\\` sql
SELECT * FROM table_name;
\\\`\\\`\\\`
[\u94FE\u63A5](https://www.baidu.com)
- \u65E0\u5E8F\u5217\u8868
- \u65E0\u5E8F\u5217\u8868
- \u65E0\u5E8F\u5217\u8868
1. \u6709\u5E8F\u5217\u8868
2. \u6709\u5E8F\u5217\u8868
3. \u6709\u5E8F\u5217\u8868

---

> \u5F15\u7528

| \u8868\u5934 | \u8868\u5934 | \u8868\u5934 |
| ---- | ---- | ---- |
| \u5355\u5143\u683C | \u5355\u5143\u683C | \u5355\u5143\u683C |
| \u5355\u5143\u683C | \u5355\u5143\u683C | \u5355\u5143\u683C |
| \u5355\u5143\u683C | \u5355\u5143\u683C | \u5355\u5143\u683C |
\`;

export default function () {
    return <Chat.Markdown>{children}</Chat.Markdown>;
}
`},81409:function(s,t){t.Z=`import React, { useMemo } from 'react';
import { Chat } from 'dt-design';
import { MessageStatus } from 'dt-design/chat/entity';

export default function () {
    const data = useMemo(() => {
        return [
            {
                id: new Date().valueOf().toString(),
                content: '# \u5927\u6807\u9898',
                status: MessageStatus.DONE,
            } as any,
        ];
    }, []);

    return (
        <div style={{ height: 200, overflow: 'auto' }}>
            <div style={{ height: 600 }}>\u5F80\u4E0B\u62C9</div>
            <Chat.Message
                data={data}
                regenerate
                onLazyRendered={(cb) => {
                    console.log('beforeRender', window.performance.now());
                    cb().then(() => {
                        console.log('rendered', window.performance.now());
                    });
                }}
            />
        </div>
    );
}
`},74949:function(s,t){t.Z=`import React, { useMemo, useState } from 'react';
import { Button, Space } from 'antd';
import { Chat } from 'dt-design';
import { Message, MessageStatus, Prompt } from 'dt-design/chat/entity';

class BasicPrompt extends Prompt {}
class BasicMessage extends Message {}

export default function () {
    const [status, setStatus] = useState<MessageStatus>(MessageStatus.DONE);

    const data = useMemo(() => {
        return new BasicPrompt({
            id: \`prompt_\${new Date().valueOf().toString()}\`,
            title: '\u8FD9\u662F\u4E00\u4E2A\u6807\u9898',
            messages: [
                new BasicMessage({
                    id: 'message_\${new Date().valueOf().toString()}',
                    content: status === MessageStatus.DONE ? '\u8F93\u51FA\u5B8C\u6210' : '\u6B63\u5728\u6253\u5B57\u4E2D...',
                    status,
                }),
            ],
        });
    }, [status]);

    return (
        <>
            <Space style={{ marginBottom: 6 }}>
                <Button type="primary" onClick={() => setStatus(MessageStatus.PENDING)}>
                    \u7F6E\u4E3A\u7B49\u5F85\u751F\u6210
                </Button>
                <Button type="primary" onClick={() => setStatus(MessageStatus.GENERATING)}>
                    \u7F6E\u4E3A\u751F\u6210\u4E2D
                </Button>
                <Button type="primary" onClick={() => setStatus(MessageStatus.DONE)}>
                    \u7F6E\u4E3A\u5B8C\u6210
                </Button>
            </Space>
            <Chat.Message
                prompt={data}
                data={data.messages}
                regenerate
                onStop={() => setStatus(MessageStatus.STOPPED)}
                onRegenerate={() => console.log('regenerate')}
            />
        </>
    );
}
`},62505:function(s,t){t.Z=`type SSEProps = {
    message: string;
    onopen?: () => void;
    onmessage?: (str: string) => void;
    onstop?: () => void;
};

const str = [
    \`### \u5C06\u8FDB\u9152
\u541B\u4E0D\u89C1\u9EC4\u6CB3\u4E4B\u6C34\u5929\u4E0A\u6765\uFF0C\u5954\u6D41\u5230\u6D77\u4E0D\u590D\u56DE\u3002

\u541B\u4E0D\u89C1\u9AD8\u5802\u660E\u955C\u60B2\u767D\u53D1\uFF0C\u671D\u5982\u9752\u4E1D\u66AE\u6210\u96EA\u3002

\u4EBA\u751F\u5F97\u610F\u987B\u5C3D\u6B22\uFF0C\u83AB\u4F7F\u91D1\u6A3D\u7A7A\u5BF9\u6708\u3002

\u5929\u751F\u6211\u6750\u5FC5\u6709\u7528\uFF0C\u5343\u91D1\u6563\u5C3D\u8FD8\u590D\u6765\u3002

\u70F9\u7F8A\u5BB0\u725B\u4E14\u4E3A\u4E50\uFF0C\u4F1A\u987B\u4E00\u996E\u4E09\u767E\u676F\u3002

\u5C91\u592B\u5B50\uFF0C\u4E39\u4E18\u751F\uFF0C\u5C06\u8FDB\u9152\uFF0C\u676F\u83AB\u505C\u3002

\u4E0E\u541B\u6B4C\u4E00\u66F2\uFF0C\u8BF7\u541B\u4E3A\u6211\u503E\u8033\u542C\u3002

\u949F\u9F13\u9994\u7389\u4E0D\u8DB3\u8D35\uFF0C\u4F46\u613F\u957F\u9189\u4E0D\u613F\u9192\u3002

\u53E4\u6765\u5723\u8D24\u7686\u5BC2\u5BDE\uFF0C\u60DF\u6709\u996E\u8005\u7559\u5176\u540D\u3002

\u9648\u738B\u6614\u65F6\u5BB4\u5E73\u4E50\uFF0C\u6597\u9152\u5341\u5343\u6063\u6B22\u8C11\u3002

\u4E3B\u4EBA\u4F55\u4E3A\u8A00\u5C11\u94B1\uFF0C\u5F84\u987B\u6CBD\u53D6\u5BF9\u541B\u914C\u3002

\u4E94\u82B1\u9A6C\u3001\u5343\u91D1\u88D8\uFF0C\u547C\u513F\u5C06\u51FA\u6362\u7F8E\u9152\uFF0C\u4E0E\u5C14\u540C\u9500\u4E07\u53E4\u6101\u3002
\`,
];

const codeBlockStr = \`
[change convert]() in the content.

\\\`\\\`\\\`sql
select * from table;
\\\`\\\`\\\`
\`;

function getRandomLength() {
    return Math.floor(Math.random() * 10);
}

export function mockSSE({ message, onopen, onmessage, onstop }: SSEProps) {
    onopen?.();

    if (message.includes('\u8BD7')) {
        const text = str[0];
        let point = 0;
        const interval = window.setInterval(() => {
            const length = getRandomLength();
            let end = point + length;
            if (end >= text.length) {
                end = text.length;
                window.clearInterval(interval);
                onmessage?.(text.slice(point, point + length));
                onstop?.();
                return;
            }
            onmessage?.(text.slice(point, point + length));
            point += length;
        }, 100);
    } else if (message.includes('CodeBlock')) {
        onmessage?.(codeBlockStr);
        onstop?.();
    } else {
        onmessage?.('\u6839\u636E\u4F60\u7684\u63CF\u8FF0\u6682\u672A\u68C0\u7D22\u76F8\u5173\u8BD7\u8BCD\u3002');
        onstop?.();
    }
}
`},95751:function(s,t){t.Z=`import React, { useReducer, useRef, useState } from 'react';
import { Space } from 'antd';
import { Chat } from 'dt-design';
import { Prompt } from 'dt-design/chat/entity';

const updateReducer = (num: number): number => (num + 1) % 1_000_000;

export default function () {
    const [value, setValue] = useState<string | undefined>('');
    const [, update] = useReducer(updateReducer, 0);
    const prompt = useRef(new (class extends Prompt {})({ id: '1', title: 'test' }));

    function setContent(data: string) {
        prompt.current.title = data;
        update();
    }

    return (
        <Space direction="vertical" style={{ width: '100%' }}>
            <Chat.Prompt data={prompt.current} />
            <Space>
                <Chat.Input
                    value={value}
                    onChange={setValue}
                    placeholder="\u8BF7\u8F93\u5165"
                    button={{
                        disabled: !value?.trim(),
                    }}
                    onPressEnter={() => value?.trim() && setContent(value.trim())}
                />
            </Space>
        </Space>
    );
}
`},68466:function(s,t){t.Z=`import React from 'react';
import { Space } from 'antd';
import { Chat } from 'dt-design';

export default function () {
    return (
        <Space direction="vertical">
            <Chat.Tag>\u5982\u4F55\u5BF9FLinkSQL\u8FDB\u884CSQL\u4F18\u5316</Chat.Tag>
            <Chat.Tag>\u5982\u4F55\u5BF9FLinkSQL\u8FDB\u884C\u6027\u80FD\u4F18\u5316</Chat.Tag>
            <Chat.Tag>\u5982\u4F55\u5BF9FLinkSQL\u8FDB\u884CSQL\u4F18\u5316</Chat.Tag>
            <Chat.Tag>\u5982\u4F55\u5BF9FLinkSQL\u8FDB\u884CSQL\u4F18\u5316</Chat.Tag>
        </Space>
    );
}
`}}]);
