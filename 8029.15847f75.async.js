"use strict";(self.webpackChunk_dtjoy_dt_design=self.webpackChunk_dtjoy_dt_design||[]).push([[8029],{13358:function(wt,he,s){Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var T=b(s(61871));function b(J){return J&&J.__esModule?J:{default:J}}var K=T;he.default=K,wt.exports=K},22043:function(wt,he,s){s.r(he),s.d(he,{default:function(){return we}});var T=s(59125),b=s(59942),K=s(48798),J=s(28322),I=s(75271),G=s(90749),Dt=s(82187),fe=s.n(Dt),ne={adjustX:1,adjustY:1},ue=[0,0],ft={topLeft:{points:["bl","tl"],overflow:ne,offset:[0,-4],targetOffset:ue},topCenter:{points:["bc","tc"],overflow:ne,offset:[0,-4],targetOffset:ue},topRight:{points:["br","tr"],overflow:ne,offset:[0,-4],targetOffset:ue},bottomLeft:{points:["tl","bl"],overflow:ne,offset:[0,4],targetOffset:ue},bottomCenter:{points:["tc","bc"],overflow:ne,offset:[0,4],targetOffset:ue},bottomRight:{points:["tr","br"],overflow:ne,offset:[0,4],targetOffset:ue}},e=ft,mt=s(14583),pt=s(49975),gt=s(59422),Qe=mt.Z.ESC,ht=mt.Z.TAB;function Lt(m){var Pe=m.visible,Ce=m.setTriggerVisible,ye=m.triggerRef,re=m.onVisibleChange,be=m.autoFocus,Ze=I.useRef(!1),xe=function(){if(Pe&&ye.current){var $,F,W,Y;($=ye.current)===null||$===void 0||(F=$.triggerRef)===null||F===void 0||(W=F.current)===null||W===void 0||(Y=W.focus)===null||Y===void 0||Y.call(W),Ce(!1),typeof re=="function"&&re(!1)}},H=function(){var $,F,W,Y,Re=(0,gt.tS)(($=ye.current)===null||$===void 0||(F=$.popupRef)===null||F===void 0||(W=F.current)===null||W===void 0||(Y=W.getElement)===null||Y===void 0?void 0:Y.call(W)),Ie=Re[0];return Ie!=null&&Ie.focus?(Ie.focus(),Ze.current=!0,!0):!1},se=function($){switch($.keyCode){case Qe:xe();break;case ht:{var F=!1;Ze.current||(F=H()),F?$.preventDefault():xe();break}}};I.useEffect(function(){return Pe?(window.addEventListener("keydown",se),be&&(0,pt.Z)(H,3),function(){window.removeEventListener("keydown",se),Ze.current=!1}):function(){Ze.current=!1}},[Pe])}var Tt=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function Q(m,Pe){var Ce=m.arrow,ye=Ce===void 0?!1:Ce,re=m.prefixCls,be=re===void 0?"rc-dropdown":re,Ze=m.transitionName,xe=m.animation,H=m.align,se=m.placement,ze=se===void 0?"bottomLeft":se,$=m.placements,F=$===void 0?e:$,W=m.getPopupContainer,Y=m.showAction,Re=m.hideAction,Ie=m.overlayClassName,De=m.overlayStyle,Le=m.visible,qe=m.trigger,Ct=qe===void 0?["hover"]:qe,Vt=m.autoFocus,Ft=(0,J.Z)(m,Tt),yt=I.useState(),_e=(0,K.Z)(yt,2),kt=_e[0],et=_e[1],Te="visible"in m?Le:kt,je=I.useRef(null);I.useImperativeHandle(Pe,function(){return je.current}),Lt({visible:Te,setTriggerVisible:et,triggerRef:je,onVisibleChange:m.onVisibleChange,autoFocus:Vt});var Ut=function(){var P=m.overlay,k;return typeof P=="function"?k=P():k=P,k},tt=function(P){var k=m.onOverlayClick;et(!1),k&&k(P)},Wt=function(P){var k=m.onVisibleChange;et(P),typeof k=="function"&&k(P)},Me=function(){var P=Ut();return I.createElement(I.Fragment,null,ye&&I.createElement("div",{className:"".concat(be,"-arrow")}),P)},zt=function(){var P=m.overlay;return typeof P=="function"?Me:Me()},bt=function(){var P=m.minOverlayWidthMatchTrigger,k=m.alignPoint;return"minOverlayWidthMatchTrigger"in m?P:!k},jt=function(){var P=m.openClassName;return P!==void 0?P:"".concat(be,"-open")},Gt=function(){var P=m.children,k=P.props?P.props:{},Ht=fe()(k.className,jt());return Te&&P?I.cloneElement(P,{className:Ht}):P},nt=Re;return!nt&&Ct.indexOf("contextMenu")!==-1&&(nt=["click"]),I.createElement(G.Z,(0,b.Z)((0,b.Z)({builtinPlacements:F},Ft),{},{prefixCls:be,ref:je,popupClassName:fe()(Ie,(0,T.Z)({},"".concat(be,"-show-arrow"),ye)),popupStyle:De,action:Ct,showAction:Y,hideAction:nt||[],popupPlacement:ze,popupAlign:H,popupTransitionName:Ze,popupAnimation:xe,popupVisible:Te,stretch:bt()?"minWidth":"",popup:zt(),onPopupVisibleChange:Wt,onPopupClick:tt,getPopupContainer:W}),Gt())}var $t=I.forwardRef(Q),we=$t},52269:function(wt,he,s){s.r(he),s.d(he,{Divider:function(){return Xt},Item:function(){return rt},ItemGroup:function(){return St},MenuItem:function(){return rt},MenuItemGroup:function(){return St},SubMenu:function(){return Mt},default:function(){return _n},useFullPath:function(){return re}});var T=s(4529),b=s(59125),K=s(59942),J=s(47844),I=s(48798),G=s(28322),Dt=s(82187),fe=s.n(Dt),ne=s(10715),ue=s(93954),ft=s(4449),e=s(75271),mt=s(30967),pt=s(47996),gt=e.createContext(null);function Qe(n,t){return n===void 0?null:"".concat(n,"-").concat(t)}function ht(n){var t=e.useContext(gt);return Qe(t,n)}var Lt=s(54596),Tt=["children","locked"],Q=e.createContext(null);function $t(n,t){var a=(0,K.Z)({},n);return Object.keys(t).forEach(function(i){var r=t[i];r!==void 0&&(a[i]=r)}),a}function we(n){var t=n.children,a=n.locked,i=(0,G.Z)(n,Tt),r=e.useContext(Q),l=(0,Lt.Z)(function(){return $t(r,i)},[r,i],function(o,u){return!a&&(o[0]!==u[0]||!(0,pt.Z)(o[1],u[1],!0))});return e.createElement(Q.Provider,{value:l},t)}var m=[],Pe=e.createContext(null);function Ce(){return e.useContext(Pe)}var ye=e.createContext(m);function re(n){var t=e.useContext(ye);return e.useMemo(function(){return n!==void 0?[].concat((0,J.Z)(t),[n]):t},[t,n])}var be=e.createContext(null),Ze=e.createContext({}),xe=Ze,H=s(14583),se=s(49975),ze=s(59422),$=H.Z.LEFT,F=H.Z.RIGHT,W=H.Z.UP,Y=H.Z.DOWN,Re=H.Z.ENTER,Ie=H.Z.ESC,De=H.Z.HOME,Le=H.Z.END,qe=[W,Y,$,F];function Ct(n,t,a,i){var r,l,o,u,v="prev",c="next",d="children",O="parent";if(n==="inline"&&i===Re)return{inlineTrigger:!0};var Z=(r={},(0,b.Z)(r,W,v),(0,b.Z)(r,Y,c),r),x=(l={},(0,b.Z)(l,$,a?c:v),(0,b.Z)(l,F,a?v:c),(0,b.Z)(l,Y,d),(0,b.Z)(l,Re,d),l),g=(o={},(0,b.Z)(o,W,v),(0,b.Z)(o,Y,c),(0,b.Z)(o,Re,d),(0,b.Z)(o,Ie,O),(0,b.Z)(o,$,a?d:O),(0,b.Z)(o,F,a?O:d),o),h={inline:Z,horizontal:x,vertical:g,inlineSub:Z,horizontalSub:g,verticalSub:g},A=(u=h["".concat(n).concat(t?"":"Sub")])===null||u===void 0?void 0:u[i];switch(A){case v:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case O:return{offset:-1,sibling:!1};case d:return{offset:1,sibling:!1};default:return null}}function Vt(n){for(var t=n;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}function Ft(n,t){for(var a=n||document.activeElement;a;){if(t.has(a))return a;a=a.parentElement}return null}function yt(n,t){var a=(0,ze.tS)(n,!0);return a.filter(function(i){return t.has(i)})}function _e(n,t,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;if(!n)return null;var r=yt(n,t),l=r.length,o=r.findIndex(function(u){return a===u});return i<0?o===-1?o=l-1:o-=1:i>0&&(o+=1),o=(o+l)%l,r[o]}function kt(n,t,a,i,r,l,o,u,v,c){var d=e.useRef(),O=e.useRef();O.current=t;var Z=function(){se.Z.cancel(d.current)};return e.useEffect(function(){return function(){Z()}},[]),function(x){var g=x.which;if([].concat(qe,[Re,Ie,De,Le]).includes(g)){var h,A,w,M=function(){h=new Set,A=new Map,w=new Map;var U=l();return U.forEach(function(z){var V=document.querySelector("[data-menu-id='".concat(Qe(i,z),"']"));V&&(h.add(V),w.set(V,z),A.set(z,V))}),h};M();var C=A.get(t),f=Ft(C,h),S=w.get(f),p=Ct(n,o(S,!0).length===1,a,g);if(!p&&g!==De&&g!==Le)return;(qe.includes(g)||[De,Le].includes(g))&&x.preventDefault();var E=function(U){if(U){var z=U,V=U.querySelector("a");V!=null&&V.getAttribute("href")&&(z=V);var me=w.get(U);u(me),Z(),d.current=(0,se.Z)(function(){O.current===me&&z.focus()})}};if([De,Le].includes(g)||p.sibling||!f){var ae;!f||n==="inline"?ae=r.current:ae=Vt(f);var N,ce=yt(ae,h);g===De?N=ce[0]:g===Le?N=ce[ce.length-1]:N=_e(ae,h,f,p.offset),E(N)}else if(p.inlineTrigger)v(S);else if(p.offset>0)v(S,!0),Z(),d.current=(0,se.Z)(function(){M();var q=f.getAttribute("aria-controls"),U=document.getElementById(q),z=_e(U,h);E(z)},5);else if(p.offset<0){var ie=o(S,!0),L=ie[ie.length-2],ve=A.get(L);v(L,!1),E(ve)}}c==null||c(x)}}function et(n){Promise.resolve().then(n)}var Te="__RC_UTIL_PATH_SPLIT__",je=function(t){return t.join(Te)},Ut=function(t){return t.split(Te)},tt="rc-menu-more";function Wt(){var n=e.useState({}),t=(0,I.Z)(n,2),a=t[1],i=(0,e.useRef)(new Map),r=(0,e.useRef)(new Map),l=e.useState([]),o=(0,I.Z)(l,2),u=o[0],v=o[1],c=(0,e.useRef)(0),d=(0,e.useRef)(!1),O=function(){d.current||a({})},Z=(0,e.useCallback)(function(C,f){var S=je(f);r.current.set(S,C),i.current.set(C,S),c.current+=1;var p=c.current;et(function(){p===c.current&&O()})},[]),x=(0,e.useCallback)(function(C,f){var S=je(f);r.current.delete(S),i.current.delete(C)},[]),g=(0,e.useCallback)(function(C){v(C)},[]),h=(0,e.useCallback)(function(C,f){var S=i.current.get(C)||"",p=Ut(S);return f&&u.includes(p[0])&&p.unshift(tt),p},[u]),A=(0,e.useCallback)(function(C,f){return C.some(function(S){var p=h(S,!0);return p.includes(f)})},[h]),w=function(){var f=(0,J.Z)(i.current.keys());return u.length&&f.push(tt),f},M=(0,e.useCallback)(function(C){var f="".concat(i.current.get(C)).concat(Te),S=new Set;return(0,J.Z)(r.current.keys()).forEach(function(p){p.startsWith(f)&&S.add(r.current.get(p))}),S},[]);return e.useEffect(function(){return function(){d.current=!0}},[]),{registerPath:Z,unregisterPath:x,refreshOverflowKeys:g,isSubPathKey:A,getKeyPath:h,getKeys:w,getSubPathKeys:M}}function Me(n){var t=e.useRef(n);t.current=n;var a=e.useCallback(function(){for(var i,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return(i=t.current)===null||i===void 0?void 0:i.call.apply(i,[t].concat(l))},[]);return n?a:void 0}var zt=Math.random().toFixed(5).toString().slice(2),bt=0;function jt(n){var t=(0,ue.Z)(n,{value:n}),a=(0,I.Z)(t,2),i=a[0],r=a[1];return e.useEffect(function(){bt+=1;var l="".concat(zt,"-").concat(bt);r("rc-menu-uuid-".concat(l))},[]),i}var Gt=s(76132),nt=s(99190),Se=s(93713),P=s(70637),k=s(18051),Ht=s(42684);function on(n,t,a,i){var r=e.useContext(Q),l=r.activeKey,o=r.onActive,u=r.onInactive,v={active:l===n};return t||(v.onMouseEnter=function(c){a==null||a({key:n,domEvent:c}),o(n)},v.onMouseLeave=function(c){i==null||i({key:n,domEvent:c}),u(n)}),v}function ln(n){var t=e.useContext(Q),a=t.mode,i=t.rtl,r=t.inlineIndent;if(a!=="inline")return null;var l=n;return i?{paddingRight:l*r}:{paddingLeft:l*r}}function un(n){var t=n.icon,a=n.props,i=n.children,r;return typeof t=="function"?r=e.createElement(t,(0,K.Z)({},a)):r=t,r||i||null}var Pn=["item"];function It(n){var t=n.item,a=(0,G.Z)(n,Pn);return Object.defineProperty(a,"item",{get:function(){return(0,ft.ZP)(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),a}var Zn=["title","attribute","elementRef"],xn=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Rn=["active"],En=function(n){(0,Se.Z)(a,n);var t=(0,P.Z)(a);function a(){return(0,Gt.Z)(this,a),t.apply(this,arguments)}return(0,nt.Z)(a,[{key:"render",value:function(){var r=this.props,l=r.title,o=r.attribute,u=r.elementRef,v=(0,G.Z)(r,Zn),c=(0,k.Z)(v,["eventKey","popupClassName","popupOffset","onTitleClick"]);return(0,ft.ZP)(!o,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),e.createElement(ne.Z.Item,(0,T.Z)({},o,{title:typeof l=="string"?l:void 0},c,{ref:u}))}}]),a}(e.Component),Nn=e.forwardRef(function(n,t){var a,i=n.style,r=n.className,l=n.eventKey,o=n.warnKey,u=n.disabled,v=n.itemIcon,c=n.children,d=n.role,O=n.onMouseEnter,Z=n.onMouseLeave,x=n.onClick,g=n.onKeyDown,h=n.onFocus,A=(0,G.Z)(n,xn),w=ht(l),M=e.useContext(Q),C=M.prefixCls,f=M.onItemClick,S=M.disabled,p=M.overflowDisabled,E=M.itemIcon,ae=M.selectedKeys,N=M.onActive,ce=e.useContext(xe),ie=ce._internalRenderMenuItem,L="".concat(C,"-item"),ve=e.useRef(),q=e.useRef(),U=S||u,z=(0,Ht.x1)(t,q),V=re(l),me=function(j){return{key:l,keyPath:(0,J.Z)(V).reverse(),item:ve.current,domEvent:j}},it=v||E,Ne=on(l,U,O,Z),Ke=Ne.active,He=(0,G.Z)(Ne,Rn),pe=ae.includes(l),$e=ln(V.length),_=function(j){if(!U){var B=me(j);x==null||x(It(B)),f(B)}},ee=function(j){if(g==null||g(j),j.which===H.Z.ENTER){var B=me(j);x==null||x(It(B)),f(B)}},ot=function(j){N(l),h==null||h(j)},Ye={};n.role==="option"&&(Ye["aria-selected"]=pe);var Ve=e.createElement(En,(0,T.Z)({ref:ve,elementRef:z,role:d===null?"none":d||"menuitem",tabIndex:u?null:-1,"data-menu-id":p&&w?null:w},A,He,Ye,{component:"li","aria-disabled":u,style:(0,K.Z)((0,K.Z)({},$e),i),className:fe()(L,(a={},(0,b.Z)(a,"".concat(L,"-active"),Ke),(0,b.Z)(a,"".concat(L,"-selected"),pe),(0,b.Z)(a,"".concat(L,"-disabled"),U),a),r),onClick:_,onKeyDown:ee,onFocus:ot}),c,e.createElement(un,{props:(0,K.Z)((0,K.Z)({},n),{},{isSelected:pe}),icon:it}));return ie&&(Ve=ie(Ve,n,{selected:pe})),Ve});function Kn(n,t){var a=n.eventKey,i=Ce(),r=re(a);return e.useEffect(function(){if(i)return i.registerPath(a,r),function(){i.unregisterPath(a,r)}},[r]),i?null:e.createElement(Nn,(0,T.Z)({},n,{ref:t}))}var rt=e.forwardRef(Kn),On=["className","children"],An=function(t,a){var i=t.className,r=t.children,l=(0,G.Z)(t,On),o=e.useContext(Q),u=o.prefixCls,v=o.mode,c=o.rtl;return e.createElement("ul",(0,T.Z)({className:fe()(u,c&&"".concat(u,"-rtl"),"".concat(u,"-sub"),"".concat(u,"-").concat(v==="inline"?"inline":"vertical"),i),role:"menu"},l,{"data-menu-list":!0,ref:a}),r)},sn=e.forwardRef(An);sn.displayName="SubMenuList";var cn=sn,wn=s(41392),Dn=s(81626),Ln=["label","children","key","type"];function Yt(n,t){return(0,Dn.Z)(n).map(function(a,i){if(e.isValidElement(a)){var r,l,o=a.key,u=(r=(l=a.props)===null||l===void 0?void 0:l.eventKey)!==null&&r!==void 0?r:o,v=u==null;v&&(u="tmp_key-".concat([].concat((0,J.Z)(t),[i]).join("-")));var c={key:u,eventKey:u};return e.cloneElement(a,c)}return a})}function Bt(n){return(n||[]).map(function(t,a){if(t&&(0,wn.Z)(t)==="object"){var i=t,r=i.label,l=i.children,o=i.key,u=i.type,v=(0,G.Z)(i,Ln),c=o!=null?o:"tmp-".concat(a);return l||u==="group"?u==="group"?e.createElement(St,(0,T.Z)({key:c},v,{title:r}),Bt(l)):e.createElement(Mt,(0,T.Z)({key:c},v,{title:r}),Bt(l)):u==="divider"?e.createElement(Xt,(0,T.Z)({key:c},v)):e.createElement(rt,(0,T.Z)({key:c},v),r)}return null}).filter(function(t){return t})}function Tn(n,t,a){var i=n;return t&&(i=Bt(t)),Yt(i,a)}var $n=s(90749),Ee={adjustX:1,adjustY:1},Vn={topLeft:{points:["bl","tl"],overflow:Ee,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ee,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Ee,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Ee,offset:[4,0]}},Fn={topLeft:{points:["bl","tl"],overflow:Ee,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Ee,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Ee,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Ee,offset:[4,0]}},Kr=null;function vn(n,t,a){if(t)return t;if(a)return a[n]||a.other}var kn={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Un(n){var t=n.prefixCls,a=n.visible,i=n.children,r=n.popup,l=n.popupClassName,o=n.popupOffset,u=n.disabled,v=n.mode,c=n.onVisibleChange,d=e.useContext(Q),O=d.getPopupContainer,Z=d.rtl,x=d.subMenuOpenDelay,g=d.subMenuCloseDelay,h=d.builtinPlacements,A=d.triggerSubMenuAction,w=d.forceSubMenuRender,M=d.rootClassName,C=d.motion,f=d.defaultMotions,S=e.useState(!1),p=(0,I.Z)(S,2),E=p[0],ae=p[1],N=Z?(0,K.Z)((0,K.Z)({},Fn),h):(0,K.Z)((0,K.Z)({},Vn),h),ce=kn[v],ie=vn(v,C,f),L=e.useRef(ie);v!=="inline"&&(L.current=ie);var ve=(0,K.Z)((0,K.Z)({},L.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),q=e.useRef();return e.useEffect(function(){return q.current=(0,se.Z)(function(){ae(a)}),function(){se.Z.cancel(q.current)}},[a]),e.createElement($n.Z,{prefixCls:t,popupClassName:fe()("".concat(t,"-popup"),(0,b.Z)({},"".concat(t,"-rtl"),Z),l,M),stretch:v==="horizontal"?"minWidth":null,getPopupContainer:O,builtinPlacements:N,popupPlacement:ce,popupVisible:E,popup:r,popupAlign:o&&{offset:o},action:u?[]:[A],mouseEnterDelay:x,mouseLeaveDelay:g,onPopupVisibleChange:c,forceRender:w,popupMotion:ve},i)}var Wn=s(8432);function zn(n){var t=n.id,a=n.open,i=n.keyPath,r=n.children,l="inline",o=e.useContext(Q),u=o.prefixCls,v=o.forceSubMenuRender,c=o.motion,d=o.defaultMotions,O=o.mode,Z=e.useRef(!1);Z.current=O===l;var x=e.useState(!Z.current),g=(0,I.Z)(x,2),h=g[0],A=g[1],w=Z.current?a:!1;e.useEffect(function(){Z.current&&A(!1)},[O]);var M=(0,K.Z)({},vn(l,c,d));i.length>1&&(M.motionAppear=!1);var C=M.onVisibleChanged;return M.onVisibleChanged=function(f){return!Z.current&&!f&&A(!0),C==null?void 0:C(f)},h?null:e.createElement(we,{mode:l,locked:!Z.current},e.createElement(Wn.default,(0,T.Z)({visible:w},M,{forceRender:v,removeOnLeave:!1,leavedClassName:"".concat(u,"-hidden")}),function(f){var S=f.className,p=f.style;return e.createElement(cn,{id:t,className:S,style:p},r)}))}var jn=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Gn=["active"],Hn=function(t){var a,i=t.style,r=t.className,l=t.title,o=t.eventKey,u=t.warnKey,v=t.disabled,c=t.internalPopupClose,d=t.children,O=t.itemIcon,Z=t.expandIcon,x=t.popupClassName,g=t.popupOffset,h=t.onClick,A=t.onMouseEnter,w=t.onMouseLeave,M=t.onTitleClick,C=t.onTitleMouseEnter,f=t.onTitleMouseLeave,S=(0,G.Z)(t,jn),p=ht(o),E=e.useContext(Q),ae=E.prefixCls,N=E.mode,ce=E.openKeys,ie=E.disabled,L=E.overflowDisabled,ve=E.activeKey,q=E.selectedKeys,U=E.itemIcon,z=E.expandIcon,V=E.onItemClick,me=E.onOpenChange,it=E.onActive,Ne=e.useContext(xe),Ke=Ne._internalRenderSubMenuItem,He=e.useContext(be),pe=He.isSubPathKey,$e=re(),_="".concat(ae,"-submenu"),ee=ie||v,ot=e.useRef(),Ye=e.useRef(),Ve=O||U,Oe=Z||z,j=ce.includes(o),B=!L&&j,Pt=pe(q,o),Zt=on(o,ee,C,f),Fe=Zt.active,lt=(0,G.Z)(Zt,Gn),Jt=e.useState(!1),Qt=(0,I.Z)(Jt,2),qt=Qt[0],xt=Qt[1],ut=function(de){ee||xt(de)},_t=function(de){ut(!0),A==null||A({key:o,domEvent:de})},ge=function(de){ut(!1),w==null||w({key:o,domEvent:de})},Rt=e.useMemo(function(){return Fe||(N!=="inline"?qt||pe([ve],o):!1)},[N,Fe,ve,qt,o,pe]),Et=ln($e.length),Nt=function(de){ee||(M==null||M({key:o,domEvent:de}),N==="inline"&&me(o,!j))},en=Me(function(le){h==null||h(It(le)),V(le)}),Be=function(de){N!=="inline"&&me(o,de)},st=function(){it(o)},ke=p&&"".concat(p,"-popup"),ct=e.createElement("div",(0,T.Z)({role:"menuitem",style:Et,className:"".concat(_,"-title"),tabIndex:ee?null:-1,ref:ot,title:typeof l=="string"?l:null,"data-menu-id":L&&p?null:p,"aria-expanded":B,"aria-haspopup":!0,"aria-controls":ke,"aria-disabled":ee,onClick:Nt,onFocus:st},lt),l,e.createElement(un,{icon:N!=="horizontal"?Oe:null,props:(0,K.Z)((0,K.Z)({},t),{},{isOpen:B,isSubMenu:!0})},e.createElement("i",{className:"".concat(_,"-arrow")}))),Xe=e.useRef(N);if(N!=="inline"&&$e.length>1?Xe.current="vertical":Xe.current=N,!L){var oe=Xe.current;ct=e.createElement(Un,{mode:oe,prefixCls:_,visible:!c&&B&&N!=="inline",popupClassName:x,popupOffset:g,popup:e.createElement(we,{mode:oe==="horizontal"?"vertical":oe},e.createElement(cn,{id:ke,ref:Ye},d)),disabled:ee,onVisibleChange:Be},ct)}var Je=e.createElement(ne.Z.Item,(0,T.Z)({role:"none"},S,{component:"li",style:i,className:fe()(_,"".concat(_,"-").concat(N),r,(a={},(0,b.Z)(a,"".concat(_,"-open"),B),(0,b.Z)(a,"".concat(_,"-active"),Rt),(0,b.Z)(a,"".concat(_,"-selected"),Pt),(0,b.Z)(a,"".concat(_,"-disabled"),ee),a)),onMouseEnter:_t,onMouseLeave:ge}),ct,!L&&e.createElement(zn,{id:ke,open:B,keyPath:$e},d));return Ke&&(Je=Ke(Je,t,{selected:Pt,active:Rt,open:B,disabled:ee})),e.createElement(we,{onItemClick:en,mode:N==="horizontal"?"vertical":N,itemIcon:Ve,expandIcon:Oe},Je)};function Mt(n){var t=n.eventKey,a=n.children,i=re(t),r=Yt(a,i),l=Ce();e.useEffect(function(){if(l)return l.registerPath(t,i),function(){l.unregisterPath(t,i)}},[i]);var o;return l?o=r:o=e.createElement(Hn,n,r),e.createElement(ye.Provider,{value:i},o)}var Yn=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],Ge=[],Bn=e.forwardRef(function(n,t){var a,i,r=n,l=r.prefixCls,o=l===void 0?"rc-menu":l,u=r.rootClassName,v=r.style,c=r.className,d=r.tabIndex,O=d===void 0?0:d,Z=r.items,x=r.children,g=r.direction,h=r.id,A=r.mode,w=A===void 0?"vertical":A,M=r.inlineCollapsed,C=r.disabled,f=r.disabledOverflow,S=r.subMenuOpenDelay,p=S===void 0?.1:S,E=r.subMenuCloseDelay,ae=E===void 0?.1:E,N=r.forceSubMenuRender,ce=r.defaultOpenKeys,ie=r.openKeys,L=r.activeKey,ve=r.defaultActiveFirst,q=r.selectable,U=q===void 0?!0:q,z=r.multiple,V=z===void 0?!1:z,me=r.defaultSelectedKeys,it=r.selectedKeys,Ne=r.onSelect,Ke=r.onDeselect,He=r.inlineIndent,pe=He===void 0?24:He,$e=r.motion,_=r.defaultMotions,ee=r.triggerSubMenuAction,ot=ee===void 0?"hover":ee,Ye=r.builtinPlacements,Ve=r.itemIcon,Oe=r.expandIcon,j=r.overflowedIndicator,B=j===void 0?"...":j,Pt=r.overflowedIndicatorPopupClassName,Zt=r.getPopupContainer,Fe=r.onClick,lt=r.onOpenChange,Jt=r.onKeyDown,Qt=r.openAnimation,qt=r.openTransitionName,xt=r._internalRenderMenuItem,ut=r._internalRenderSubMenuItem,_t=(0,G.Z)(r,Yn),ge=e.useMemo(function(){return Tn(x,Z,Ge)},[x,Z]),Rt=e.useState(!1),Et=(0,I.Z)(Rt,2),Nt=Et[0],en=Et[1],Be=e.useRef(),st=jt(h),ke=g==="rtl",ct=(0,ue.Z)(ce,{value:ie,postState:function(y){return y||Ge}}),Xe=(0,I.Z)(ct,2),oe=Xe[0],Je=Xe[1],le=function(y){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;function X(){Je(y),lt==null||lt(y)}R?(0,mt.flushSync)(X):X()},de=e.useState(oe),dn=(0,I.Z)(de,2),er=dn[0],tr=dn[1],tn=e.useRef(!1),nr=e.useMemo(function(){return(w==="inline"||w==="vertical")&&M?["vertical",M]:[w,!1]},[w,M]),fn=(0,I.Z)(nr,2),Kt=fn[0],nn=fn[1],mn=Kt==="inline",rr=e.useState(Kt),pn=(0,I.Z)(rr,2),Ae=pn[0],ar=pn[1],ir=e.useState(nn),gn=(0,I.Z)(ir,2),or=gn[0],lr=gn[1];e.useEffect(function(){ar(Kt),lr(nn),tn.current&&(mn?Je(er):le(Ge))},[Kt,nn]);var ur=e.useState(0),hn=(0,I.Z)(ur,2),Ot=hn[0],sr=hn[1],rn=Ot>=ge.length-1||Ae!=="horizontal"||f;e.useEffect(function(){mn&&tr(oe)},[oe]),e.useEffect(function(){return tn.current=!0,function(){tn.current=!1}},[]);var Ue=Wt(),Cn=Ue.registerPath,yn=Ue.unregisterPath,cr=Ue.refreshOverflowKeys,bn=Ue.isSubPathKey,vr=Ue.getKeyPath,dr=Ue.getKeys,fr=Ue.getSubPathKeys,mr=e.useMemo(function(){return{registerPath:Cn,unregisterPath:yn}},[Cn,yn]),pr=e.useMemo(function(){return{isSubPathKey:bn}},[bn]);e.useEffect(function(){cr(rn?Ge:ge.slice(Ot+1).map(function(D){return D.key}))},[Ot,rn]);var gr=(0,ue.Z)(L||ve&&((a=ge[0])===null||a===void 0?void 0:a.key),{value:L}),In=(0,I.Z)(gr,2),vt=In[0],an=In[1],hr=Me(function(D){an(D)}),Cr=Me(function(){an(void 0)});(0,e.useImperativeHandle)(t,function(){return{list:Be.current,focus:function(y){var R,X=vt!=null?vt:(R=ge.find(function(Nr){return!Nr.props.disabled}))===null||R===void 0?void 0:R.key;if(X){var te,We,dt;(te=Be.current)===null||te===void 0||(We=te.querySelector("li[data-menu-id='".concat(Qe(st,X),"']")))===null||We===void 0||(dt=We.focus)===null||dt===void 0||dt.call(We,y)}}}});var yr=(0,ue.Z)(me||[],{value:it,postState:function(y){return Array.isArray(y)?y:y==null?Ge:[y]}}),Mn=(0,I.Z)(yr,2),At=Mn[0],br=Mn[1],Ir=function(y){if(U){var R=y.key,X=At.includes(R),te;V?X?te=At.filter(function(dt){return dt!==R}):te=[].concat((0,J.Z)(At),[R]):te=[R],br(te);var We=(0,K.Z)((0,K.Z)({},y),{},{selectedKeys:te});X?Ke==null||Ke(We):Ne==null||Ne(We)}!V&&oe.length&&Ae!=="inline"&&le(Ge)},Mr=Me(function(D){Fe==null||Fe(It(D)),Ir(D)}),Sn=Me(function(D,y){var R=oe.filter(function(te){return te!==D});if(y)R.push(D);else if(Ae!=="inline"){var X=fr(D);R=R.filter(function(te){return!X.has(te)})}(0,pt.Z)(oe,R,!0)||le(R,!0)}),Sr=Me(Zt),Pr=function(y,R){var X=R!=null?R:!oe.includes(y);Sn(y,X)},Zr=kt(Ae,vt,ke,st,Be,dr,vr,an,Pr,Jt);e.useEffect(function(){en(!0)},[]);var xr=e.useMemo(function(){return{_internalRenderMenuItem:xt,_internalRenderSubMenuItem:ut}},[xt,ut]),Rr=Ae!=="horizontal"||f?ge:ge.map(function(D,y){return e.createElement(we,{key:D.key,overflowDisabled:y>Ot},D)}),Er=e.createElement(ne.Z,(0,T.Z)({id:h,ref:Be,prefixCls:"".concat(o,"-overflow"),component:"ul",itemComponent:rt,className:fe()(o,"".concat(o,"-root"),"".concat(o,"-").concat(Ae),c,(i={},(0,b.Z)(i,"".concat(o,"-inline-collapsed"),or),(0,b.Z)(i,"".concat(o,"-rtl"),ke),i),u),dir:g,style:v,role:"menu",tabIndex:O,data:Rr,renderRawItem:function(y){return y},renderRawRest:function(y){var R=y.length,X=R?ge.slice(-R):null;return e.createElement(Mt,{eventKey:tt,title:B,disabled:rn,internalPopupClose:R===0,popupClassName:Pt},X)},maxCount:Ae!=="horizontal"||f?ne.Z.INVALIDATE:ne.Z.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(y){sr(y)},onKeyDown:Zr},_t));return e.createElement(xe.Provider,{value:xr},e.createElement(gt.Provider,{value:st},e.createElement(we,{prefixCls:o,rootClassName:u,mode:Ae,openKeys:oe,rtl:ke,disabled:C,motion:Nt?$e:null,defaultMotions:Nt?_:null,activeKey:vt,onActive:hr,onInactive:Cr,selectedKeys:At,inlineIndent:pe,subMenuOpenDelay:p,subMenuCloseDelay:ae,forceSubMenuRender:N,builtinPlacements:Ye,triggerSubMenuAction:ot,getPopupContainer:Sr,itemIcon:Ve,expandIcon:Oe,onItemClick:Mr,onOpenChange:Sn},e.createElement(be.Provider,{value:pr},Er),e.createElement("div",{style:{display:"none"},"aria-hidden":!0},e.createElement(Pe.Provider,{value:mr},ge)))))}),Xn=Bn,Jn=["className","title","eventKey","children"],Qn=["children"],qn=function(t){var a=t.className,i=t.title,r=t.eventKey,l=t.children,o=(0,G.Z)(t,Jn),u=e.useContext(Q),v=u.prefixCls,c="".concat(v,"-item-group");return e.createElement("li",(0,T.Z)({role:"presentation"},o,{onClick:function(O){return O.stopPropagation()},className:fe()(c,a)}),e.createElement("div",{role:"presentation",className:"".concat(c,"-title"),title:typeof i=="string"?i:void 0},i),e.createElement("ul",{role:"group",className:"".concat(c,"-list")},l))};function St(n){var t=n.children,a=(0,G.Z)(n,Qn),i=re(a.eventKey),r=Yt(t,i),l=Ce();return l?r:e.createElement(qn,(0,k.Z)(a,["warnKey"]),r)}function Xt(n){var t=n.className,a=n.style,i=e.useContext(Q),r=i.prefixCls,l=Ce();return l?null:e.createElement("li",{className:fe()("".concat(r,"-item-divider"),t),style:a})}var at=Xn;at.Item=rt,at.SubMenu=Mt,at.ItemGroup=St,at.Divider=Xt;var _n=at}}]);
